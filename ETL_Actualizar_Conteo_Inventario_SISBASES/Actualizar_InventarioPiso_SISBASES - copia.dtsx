<?xml version="1.0"?>
<DTS:Executable xmlns:DTS="www.microsoft.com/SqlServer/Dts"
  DTS:refId="Package"
  DTS:CreationDate="4/27/2022 5:45:43 PM"
  DTS:CreationName="SSIS.Package.3"
  DTS:CreatorComputerName="B51TEC24"
  DTS:CreatorName="GRUPOTOVA\cwilliams"
  DTS:DTSID="{F9CF73A2-42CC-4FEE-9C19-69282ACC1637}"
  DTS:ExecutableType="SSIS.Package.3"
  DTS:LastModifiedProductVersion="16.0.5035.3"
  DTS:LocaleID="3082"
  DTS:ObjectName="Actualizar_InventarioPiso_SISBASES"
  DTS:PackageType="5"
  DTS:ProtectionLevel="2"
  DTS:VersionBuild="106"
  DTS:VersionGUID="{253BCCAC-EDB3-4E58-845F-1148313E785B}">
  <DTS:Property
    DTS:Name="PackageFormatVersion">6</DTS:Property>
  <DTS:ConnectionManagers>
    <DTS:ConnectionManager
      DTS:refId="Package.ConnectionManagers[PA_TOVA_SIB_Inventarios]"
      DTS:CreationName="OLEDB"
      DTS:DTSID="{7A67D429-C556-4D16-A56B-3A866BE01CD9}"
      DTS:ObjectName="PA_TOVA_SIB_Inventarios">
      <DTS:ObjectData>
        <DTS:ConnectionManager
          DTS:ConnectRetryCount="1"
          DTS:ConnectRetryInterval="5"
          DTS:ConnectionString="Data Source=192.168.10.33;User ID=usr_sib;Initial Catalog=PA_TOVA_SIB_Inventarios;Provider=SQLNCLI11.1;Persist Security Info=True;Auto Translate=False;">
          <EncryptedData
            Type="http://www.w3.org/2001/04/xmlenc#Element"
            Salt="+IfZ7d8mLA=="
            IV="gP/7FNY4sCg=" xmlns="http://www.w3.org/2001/04/xmlenc#">
            <EncryptionMethod
              Algorithm="http://www.w3.org/2001/04/xmlenc#tripledes-cbc" />
            <CipherData>
              <CipherValue>gP/7FNY4sCiSlBeex8hVDKgMwe2GLvPCGkxTA7PCMn8ejqjX5kRQ4axr2NGcsMDVEPKg5On3DOVDI1nnoZmR8cLXJadU2RUevdzjRnX3WoYORUtXuCnzzLoEhtR5MrwwnCrMJiidyGg5SiP9yr4C2sav7Zxx3I4MPeGaA6vI95SqruP1rZ7qcg==</CipherValue>
            </CipherData>
          </EncryptedData>
        </DTS:ConnectionManager>
      </DTS:ObjectData>
    </DTS:ConnectionManager>
    <DTS:ConnectionManager
      DTS:refId="Package.ConnectionManagers[SISBASES]"
      DTS:CreationName="OLEDB"
      DTS:DTSID="{61ED3DBC-5AA2-4F17-92D0-4A5E4E3B910E}"
      DTS:ObjectName="SISBASES">
      <DTS:ObjectData>
        <DTS:ConnectionManager
          DTS:ConnectRetryCount="1"
          DTS:ConnectRetryInterval="5"
          DTS:ConnectionString="Data Source=200.110.153.220;User ID=USR_SISBASES;Initial Catalog=SISBASES;Provider=SQLNCLI11.1;Persist Security Info=True;Auto Translate=False;Application Name=SSIS-Actualizar_InventarioPiso_SISBASES-{61ED3DBC-5AA2-4F17-92D0-4A5E4E3B910E}SISBASES;">
          <EncryptedData
            Type="http://www.w3.org/2001/04/xmlenc#Element"
            Salt="VnRJ3b5xBA=="
            IV="HbtpG4GrVlA=" xmlns="http://www.w3.org/2001/04/xmlenc#">
            <EncryptionMethod
              Algorithm="http://www.w3.org/2001/04/xmlenc#tripledes-cbc" />
            <CipherData>
              <CipherValue>HbtpG4GrVlC8aj8/m/EV7XgZlqRY94IfHfHvjJfK/G3Lu8eUV1pgp69XBK1a9zevp4p3hwRyVOI8GUGX7InA9mqLRfT5YMCytI31d/mdUKntTOjupOo+jvb1q/UMTWbXsHOxjTduayTW6u4HdGvH5JbKhzaKygHGEEiuGBU5BBM=</CipherValue>
            </CipherData>
          </EncryptedData>
        </DTS:ConnectionManager>
      </DTS:ObjectData>
    </DTS:ConnectionManager>
  </DTS:ConnectionManagers>
  <DTS:Variables>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{EF6FFE30-BCCE-4F6C-AE39-6F1AAC42EDD0}"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="DocInventario">
      <DTS:VariableValue
        DTS:DataType="8">0</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{ABC0097D-C0C7-4422-BF05-B66C59C06D2F}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="fecha_ayer">
      <DTS:VariableValue
        DTS:DataType="7">3/28/2023</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{688606D9-5DB2-461E-927F-DC87BA697515}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="fecha_conteo">
      <DTS:VariableValue
        DTS:DataType="7">12:00:00 AM</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{F1E23780-BCE3-4E65-856F-D8F1128DF53D}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="fecha_creacion">
      <DTS:VariableValue
        DTS:DataType="7">12:00:00 AM</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{338CF27E-0CE0-4B84-A7AB-129BB8B1161C}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="fFin_Proceso">
      <DTS:VariableValue
        DTS:DataType="7">12:00:00 AM</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{39EF8E85-E78D-4B97-ACE5-57D81A2D14B6}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="fInicio_Proceso">
      <DTS:VariableValue
        DTS:DataType="7">12:00:00 AM</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{7AB88085-C920-41CF-820C-CABFBA0007FD}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="IdBase">
      <DTS:VariableValue
        DTS:DataType="3">0</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{A1B92717-A5EE-4F96-894D-0B12AB0D4C5A}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="rs_documentos">
      <DTS:VariableValue
        DTS:DataSubType="ManagedSerializable"
        DTS:DataType="13">
        <SOAP-ENV:Envelope xmlns:clr="http://schemas.microsoft.com/soap/encoding/clr/1.0" xmlns:SOAP-ENC="http://schemas.xmlsoap.org/soap/encoding/" xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/">
          <SOAP-ENV:Body>
            <xsd:anyType
              id="ref-1"></xsd:anyType>
          </SOAP-ENV:Body>
        </SOAP-ENV:Envelope>
      </DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{025DB018-22FF-42CB-8542-7F4CF1ED596F}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="tipo_conteo">
      <DTS:VariableValue
        DTS:DataType="3">0</DTS:VariableValue>
    </DTS:Variable>
  </DTS:Variables>
  <DTS:Executables>
    <DTS:Executable
      DTS:refId="Package\Obtener documentos a procesar"
      DTS:CreationName="SSIS.Pipeline.3"
      DTS:Description="Tarea Flujo de datos"
      DTS:DTSID="{BD8921E8-CC93-4DD9-9F3F-072DDCF205C3}"
      DTS:ExecutableType="SSIS.Pipeline.3"
      DTS:LocaleID="-1"
      DTS:ObjectName="Obtener documentos a procesar"
      DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:Variables />
      <DTS:ObjectData>
        <pipeline
          version="1">
          <components>
            <component
              refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados"
              componentClassID="DTSAdapter.OLEDBSource.3"
              contactInfo="Origen de OLE DB;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;7"
              description="Obtiene la lista de documentos a procesar (contados o modificados en la fecha indicada - &quot;ayer&quot;)"
              name="Listar Documentos contados o modificados"
              usesDispositions="true"
              version="7">
              <properties>
                <property
                  dataType="System.Int32"
                  description="Número de segundos antes de que se agote el tiempo de espera de un comando. Un valor de 0 indica un tiempo de espera infinito."
                  name="CommandTimeout">0</property>
                <property
                  dataType="System.String"
                  description="Especifica el nombre del objeto de base de datos usado para abrir un conjunto de filas."
                  name="OpenRowset"></property>
                <property
                  dataType="System.String"
                  description="Especifica la variable que contiene el nombre del objeto de base de datos usado para abrir un conjunto de filas."
                  name="OpenRowsetVariable"></property>
                <property
                  dataType="System.String"
                  description="Comando SQL para ejecutar."
                  name="SqlCommand"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">declare @AYER AS DATETIME =?
	SELECT t0.control_inventario, t0.base, t0.fec_creacion, t0.fec_conteo
	FROM (
		SELECT A.control_inventario, A.base, A.fec_creacion, A.fec_conteo
		FROM (SELECT
				tblDoc.control_inventario as control_inventario
			   ,tblDoc.base as base
			   ,CAST(MAX(tblDoc.fecha_creacion) AS DATE) fec_creacion
			   ,CAST(MAX(tblDoc.fecha_conteo) AS DATE) fec_conteo
			FROM [dbo].[Control_Inventario_Documentos] tblDoc
			GROUP BY tblDoc.control_inventario
					,tblDoc.base) A
		WHERE A.fec_conteo &lt;= @AYER
		AND EXISTS (SELECT 1
			FROM [dbo].[Control_Inventario_Upc] upc
			WHERE upc.ciu_control_inventario = A.control_inventario
			AND upc.ciu_base = A.base
			AND isnull(upc.ciu_cantidad_conteo, 0) &lt;&gt; 0
			AND (convert(date,ciu_fecha_proceso) = @AYER  
				 OR convert(date,ciu_fecha_mod) = @AYER ))
		UNION
		SELECT A.control_inventario, A.base, A.fec_creacion, A.fec_conteo
		FROM (SELECT
				tblDoc.control_inventario as control_inventario
			   ,tblDoc.base as base
			   ,CAST(MAX(tblDoc.fecha_creacion) AS DATE) fec_creacion
			   ,CAST(MAX(tblDoc.fecha_conteo) AS DATE) fec_conteo
			FROM [dbo].[Control_Inventario_Documentos] tblDoc
			GROUP BY tblDoc.control_inventario
					,tblDoc.base) A
		WHERE A.fec_conteo &lt;= @AYER
		AND EXISTS (SELECT 1
			FROM [dbo].[Control_Inv_Upc_SinDoc] upc
			WHERE upc.sd_control_inventario = A.control_inventario
			AND upc.sd_base = A.base
			AND isnull(upc.sd_cantidad_contada, 0) &lt;&gt; 0
			AND convert(date,sd_fecha_proceso) = @AYER )
	) t0
	ORDER BY t0.fec_conteo, t0.control_inventario, t0.base</property>
                <property
                  dataType="System.String"
                  description="Variable que contiene el comando SQL para ejecutar."
                  name="SqlCommandVariable"></property>
                <property
                  dataType="System.Int32"
                  description="Especifica la página de códigos de columna para utilizar cuando la información de página de códigos no está disponible en el origen de datos."
                  name="DefaultCodePage">1252</property>
                <property
                  dataType="System.Boolean"
                  description="Fuerza el uso del valor de la propiedad DefaultCodePage al describir datos de caracteres."
                  name="AlwaysUseDefaultCodePage">false</property>
                <property
                  dataType="System.Int32"
                  description="Especifica el modo utilizado para obtener acceso a la base de datos."
                  name="AccessMode"
                  typeConverter="AccessMode">2</property>
                <property
                  dataType="System.String"
                  description="Asignaciones entre los parámetros del comando SQL y las variables."
                  name="ParameterMapping">"Parámetro0:Input",{ABC0097D-C0C7-4422-BF05-B66C59C06D2F};</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Connections[OleDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[PA_TOVA_SIB_Inventarios]"
                  connectionManagerRefId="Package.ConnectionManagers[PA_TOVA_SIB_Inventarios]"
                  description="La conexión de tiempo de ejecución OLE DB usada para obtener acceso a la base de datos."
                  name="OleDbConnection" />
              </connections>
              <outputs>
                <output
                  refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB]"
                  isSorted="true"
                  name="Salida de origen de OLE DB">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].Columns[control_inventario]"
                      dataType="wstr"
                      errorOrTruncationOperation="Conversión"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].ExternalColumns[control_inventario]"
                      length="20"
                      lineageId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].Columns[control_inventario]"
                      name="control_inventario"
                      sortKeyPosition="2"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].Columns[base]"
                      dataType="i4"
                      errorOrTruncationOperation="Conversión"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].ExternalColumns[base]"
                      lineageId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].Columns[base]"
                      name="base"
                      sortKeyPosition="3"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].Columns[fec_creacion]"
                      dataType="dbDate"
                      errorOrTruncationOperation="Conversión"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].ExternalColumns[fec_creacion]"
                      lineageId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].Columns[fec_creacion]"
                      name="fec_creacion"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].Columns[fec_conteo]"
                      dataType="dbDate"
                      errorOrTruncationOperation="Conversión"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].ExternalColumns[fec_conteo]"
                      lineageId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].Columns[fec_conteo]"
                      name="fec_conteo"
                      sortKeyPosition="1"
                      truncationRowDisposition="FailComponent" />
                  </outputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].ExternalColumns[control_inventario]"
                      dataType="wstr"
                      length="20"
                      name="control_inventario" />
                    <externalMetadataColumn
                      refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].ExternalColumns[base]"
                      dataType="i4"
                      name="base" />
                    <externalMetadataColumn
                      refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].ExternalColumns[fec_creacion]"
                      dataType="dbDate"
                      name="fec_creacion" />
                    <externalMetadataColumn
                      refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].ExternalColumns[fec_conteo]"
                      dataType="dbDate"
                      name="fec_conteo" />
                  </externalMetadataColumns>
                </output>
                <output
                  refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de error de origen de OLE DB]"
                  isErrorOut="true"
                  name="Salida de error de origen de OLE DB">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de error de origen de OLE DB].Columns[control_inventario]"
                      dataType="wstr"
                      length="20"
                      lineageId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de error de origen de OLE DB].Columns[control_inventario]"
                      name="control_inventario" />
                    <outputColumn
                      refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de error de origen de OLE DB].Columns[base]"
                      dataType="i4"
                      lineageId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de error de origen de OLE DB].Columns[base]"
                      name="base" />
                    <outputColumn
                      refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de error de origen de OLE DB].Columns[fec_creacion]"
                      dataType="dbDate"
                      lineageId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de error de origen de OLE DB].Columns[fec_creacion]"
                      name="fec_creacion" />
                    <outputColumn
                      refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de error de origen de OLE DB].Columns[fec_conteo]"
                      dataType="dbDate"
                      lineageId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de error de origen de OLE DB].Columns[fec_conteo]"
                      name="fec_conteo" />
                    <outputColumn
                      refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de error de origen de OLE DB].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de error de origen de OLE DB].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de error de origen de OLE DB].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de error de origen de OLE DB].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
            <component
              refId="Package\Obtener documentos a procesar\rs_documentos"
              componentClassID="DTSAdapter.RecordsetDestination.3"
              contactInfo="Destino de conjunto de registros;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;0"
              description="Cursor para poder recorrer los documentos a procesar"
              name="rs_documentos">
              <properties>
                <property
                  dataType="System.String"
                  description="Especifica la variable que contiene el conjunto de registros."
                  name="VariableName">User::rs_documentos</property>
              </properties>
              <inputs>
                <input
                  refId="Package\Obtener documentos a procesar\rs_documentos.Inputs[Entrada de destino de conjunto de registros]"
                  hasSideEffects="true"
                  name="Entrada de destino de conjunto de registros">
                  <inputColumns>
                    <inputColumn
                      refId="Package\Obtener documentos a procesar\rs_documentos.Inputs[Entrada de destino de conjunto de registros].Columns[control_inventario]"
                      cachedDataType="wstr"
                      cachedLength="20"
                      cachedName="control_inventario"
                      cachedSortKeyPosition="2"
                      lineageId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].Columns[control_inventario]" />
                    <inputColumn
                      refId="Package\Obtener documentos a procesar\rs_documentos.Inputs[Entrada de destino de conjunto de registros].Columns[base]"
                      cachedDataType="i4"
                      cachedName="base"
                      cachedSortKeyPosition="3"
                      lineageId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].Columns[base]" />
                    <inputColumn
                      refId="Package\Obtener documentos a procesar\rs_documentos.Inputs[Entrada de destino de conjunto de registros].Columns[fec_creacion]"
                      cachedDataType="dbDate"
                      cachedName="fec_creacion"
                      lineageId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].Columns[fec_creacion]" />
                    <inputColumn
                      refId="Package\Obtener documentos a procesar\rs_documentos.Inputs[Entrada de destino de conjunto de registros].Columns[fec_conteo]"
                      cachedDataType="dbDate"
                      cachedName="fec_conteo"
                      cachedSortKeyPosition="1"
                      lineageId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB].Columns[fec_conteo]" />
                  </inputColumns>
                  <externalMetadataColumns />
                </input>
              </inputs>
            </component>
          </components>
          <paths>
            <path
              refId="Package\Obtener documentos a procesar.Paths[Salida de origen de OLE DB]"
              endId="Package\Obtener documentos a procesar\rs_documentos.Inputs[Entrada de destino de conjunto de registros]"
              name="Salida de origen de OLE DB"
              startId="Package\Obtener documentos a procesar\Listar Documentos contados o modificados.Outputs[Salida de origen de OLE DB]" />
          </paths>
        </pipeline>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Obtener Fecha AYER"
      DTS:CreationName="Microsoft.SqlServer.Dts.Tasks.ExpressionTask.ExpressionTask, Microsoft.SqlServer.ExpressionTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
      DTS:Description="Tarea de expresión"
      DTS:Disabled="True"
      DTS:DTSID="{3fc0f577-f3fb-4b3a-9ec0-1c2a90cc2ec4}"
      DTS:ExecutableType="Microsoft.SqlServer.Dts.Tasks.ExpressionTask.ExpressionTask, Microsoft.SqlServer.ExpressionTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
      DTS:LocaleID="-1"
      DTS:ObjectName="Obtener Fecha AYER"
      DTS:TaskContact="Expression Task;Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <ExpressionTask
          Expression="@[User::fecha_ayer] = (DT_DATE)(DT_DBDATE)DATEADD( &quot;DAY&quot;, -1,   @[User::fInicio_Proceso])" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Obtener Fecha FIN Proceso"
      DTS:CreationName="Microsoft.SqlServer.Dts.Tasks.ExpressionTask.ExpressionTask, Microsoft.SqlServer.ExpressionTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
      DTS:Description="Tarea de expresión"
      DTS:DTSID="{eebc4d3b-4b0d-4619-9731-a54b55be1953}"
      DTS:ExecutableType="Microsoft.SqlServer.Dts.Tasks.ExpressionTask.ExpressionTask, Microsoft.SqlServer.ExpressionTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
      DTS:LocaleID="-1"
      DTS:ObjectName="Obtener Fecha FIN Proceso"
      DTS:TaskContact="Expression Task;Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <ExpressionTask
          Expression="@[User::fFin_Proceso] =  GETDATE()" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Obtener Fecha INICIO Proceso"
      DTS:CreationName="Microsoft.SqlServer.Dts.Tasks.ExpressionTask.ExpressionTask, Microsoft.SqlServer.ExpressionTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
      DTS:Description="Tarea de expresión"
      DTS:DTSID="{9C6A9106-F07C-40C3-B0F4-01F344F9D374}"
      DTS:ExecutableType="Microsoft.SqlServer.Dts.Tasks.ExpressionTask.ExpressionTask, Microsoft.SqlServer.ExpressionTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
      DTS:LocaleID="-1"
      DTS:ObjectName="Obtener Fecha INICIO Proceso"
      DTS:TaskContact="Expression Task;Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <ExpressionTask
          Expression="@[User::fInicio_Proceso] =  GETDATE()" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Procesar documentos"
      DTS:CreationName="STOCK:FOREACHLOOP"
      DTS:Description="Contenedor de bucles Foreach"
      DTS:DTSID="{203E4608-C890-4097-A433-DEB4523CB588}"
      DTS:ExecutableType="STOCK:FOREACHLOOP"
      DTS:LocaleID="-1"
      DTS:ObjectName="Procesar documentos">
      <DTS:ForEachEnumerator
        DTS:CreationName="Microsoft.SqlServer.Dts.Runtime.Enumerators.ADO.ForEachADOEnumerator, Microsoft.SqlServer.ForEachADOEnumerator, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
        DTS:DTSID="{5A3FFAED-424D-4C0C-8F9D-4DE261A90393}"
        DTS:ObjectName="{5A3FFAED-424D-4C0C-8F9D-4DE261A90393}">
        <DTS:ObjectData>
          <FEEADO
            EnumType="EnumerateRowsInFirstTable"
            VarName="User::rs_documentos" />
        </DTS:ObjectData>
      </DTS:ForEachEnumerator>
      <DTS:Variables />
      <DTS:Executables>
        <DTS:Executable
          DTS:refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo"
          DTS:CreationName="STOCK:SEQUENCE"
          DTS:Description="Contenedor de secuencias"
          DTS:DTSID="{C9EBFC87-4E5C-4CB7-84ED-7E9776D50DB4}"
          DTS:ExecutableType="STOCK:SEQUENCE"
          DTS:LocaleID="-1"
          DTS:ObjectName="01 Cargar Ubicaciones de Deposito segun el documento de conteo">
          <DTS:Variables />
          <DTS:Executables>
            <DTS:Executable
              DTS:refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes"
              DTS:CreationName="SSIS.Pipeline.3"
              DTS:Description="Tarea Flujo de datos"
              DTS:DTSID="{afdc2be3-f97b-41ea-8006-8390f1efe789}"
              DTS:ExecutableType="SSIS.Pipeline.3"
              DTS:LocaleID="-1"
              DTS:ObjectName="0101 Eliminar ubicaciones de deposito existentes"
              DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
              <DTS:Variables />
              <DTS:ObjectData>
                <pipeline
                  version="1">
                  <components>
                    <component
                      refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU"
                      componentClassID="DTSTransform.OLEDBCommand.3"
                      contactInfo="Comando de OLE DB;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;2"
                      description="Ejecuta una instrucción SQL para cada fila de un flujo de datos. Por ejemplo, se usa para llamar al procedimiento almacenado de configuración de nuevo empleado para cada fila de la tabla de nuevos empleados. Nota: la ejecución de una instrucción SQL para cada fila de un flujo de datos de gran tamaño puede tardar mucho tiempo."
                      name="Borrar coincidencias en Ubicaciones_SKU"
                      usesDispositions="true"
                      version="2">
                      <properties>
                        <property
                          dataType="System.Int32"
                          description="Número de segundos antes de que se agote el tiempo de espera de un comando. Un valor de 0 indica un tiempo de espera infinito."
                          name="CommandTimeout">0</property>
                        <property
                          dataType="System.String"
                          description="Comando SQL para ejecutar."
                          expressionType="Notify"
                          name="SqlCommand"
                          UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">DECLARE @v_iIdBase AS INT = ?  /* Id de la base */  
DECLARE  @v_skuid AS [decimal](13, 0) = ? /* SKU_ID del producto */

DELETE  [dbo].[Ubicaciones_SKU]  
WHERE base = @v_iIdBase 
AND sku_id = @v_skuid </property>
                        <property
                          dataType="System.Int32"
                          description="Especifica la página de códigos de columna para utilizar cuando la información de página de códigos no está disponible en el origen de datos."
                          name="DefaultCodePage">1252</property>
                      </properties>
                      <connections>
                        <connection
                          refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Connections[OleDbConnection]"
                          connectionManagerID="Package.ConnectionManagers[SISBASES]"
                          connectionManagerRefId="Package.ConnectionManagers[SISBASES]"
                          description="La conexión de tiempo de ejecución OLE DB usada para obtener acceso a la base de datos."
                          name="OleDbConnection" />
                      </connections>
                      <inputs>
                        <input
                          refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB]"
                          errorOrTruncationOperation="Ejecución de comando"
                          errorRowDisposition="FailComponent"
                          hasSideEffects="true"
                          name="Entrada de comando de OLE DB">
                          <inputColumns>
                            <inputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB].Columns[cis_base]"
                              cachedDataType="i4"
                              cachedName="cis_base"
                              cachedSortKeyPosition="2"
                              externalMetadataColumnId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_0]"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_base]" />
                            <inputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB].Columns[cis_sku_id]"
                              cachedDataType="numeric"
                              cachedName="cis_sku_id"
                              cachedPrecision="13"
                              cachedSortKeyPosition="3"
                              externalMetadataColumnId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_1]"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]" />
                          </inputColumns>
                          <externalMetadataColumns
                            isUsed="True">
                            <externalMetadataColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_0]"
                              dataType="i4"
                              name="Param_0">
                              <properties>
                                <property
                                  dataType="System.Int32"
                                  description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                                  name="DBParamInfoFlags">81</property>
                              </properties>
                            </externalMetadataColumn>
                            <externalMetadataColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_1]"
                              dataType="numeric"
                              name="Param_1"
                              precision="13">
                              <properties>
                                <property
                                  dataType="System.Int32"
                                  description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                                  name="DBParamInfoFlags">81</property>
                              </properties>
                            </externalMetadataColumn>
                          </externalMetadataColumns>
                        </input>
                      </inputs>
                      <outputs>
                        <output
                          refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Outputs[Salida de comando de OLE DB]"
                          exclusionGroup="1"
                          name="Salida de comando de OLE DB"
                          synchronousInputId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB]">
                          <externalMetadataColumns />
                        </output>
                        <output
                          refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Outputs[Salida de error de comando de OLE DB]"
                          exclusionGroup="1"
                          isErrorOut="true"
                          name="Salida de error de comando de OLE DB"
                          synchronousInputId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB]">
                          <outputColumns>
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Outputs[Salida de error de comando de OLE DB].Columns[ErrorCode]"
                              dataType="i4"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Outputs[Salida de error de comando de OLE DB].Columns[ErrorCode]"
                              name="ErrorCode"
                              specialFlags="1" />
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Outputs[Salida de error de comando de OLE DB].Columns[ErrorColumn]"
                              dataType="i4"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Outputs[Salida de error de comando de OLE DB].Columns[ErrorColumn]"
                              name="ErrorColumn"
                              specialFlags="2" />
                          </outputColumns>
                          <externalMetadataColumns />
                        </output>
                      </outputs>
                    </component>
                    <component
                      refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento"
                      componentClassID="DTSAdapter.OLEDBSource.3"
                      contactInfo="Origen de OLE DB;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;7"
                      description="Origen de OLE DB"
                      name="Obtener SKU del documento"
                      usesDispositions="true"
                      version="7">
                      <properties>
                        <property
                          dataType="System.Int32"
                          description="Número de segundos antes de que se agote el tiempo de espera de un comando. Un valor de 0 indica un tiempo de espera infinito."
                          name="CommandTimeout">0</property>
                        <property
                          dataType="System.String"
                          description="Especifica el nombre del objeto de base de datos usado para abrir un conjunto de filas."
                          name="OpenRowset"></property>
                        <property
                          dataType="System.String"
                          description="Especifica la variable que contiene el nombre del objeto de base de datos usado para abrir un conjunto de filas."
                          name="OpenRowsetVariable"></property>
                        <property
                          dataType="System.String"
                          description="Comando SQL para ejecutar."
                          name="SqlCommand"
                          UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">DECLARE @v_iIdBase AS INT = ?  /* Id de la base */  
DECLARE @v_DocInventario as nvarchar(20) = ?  /* Documento de Inventario */

SELECT cis_control_inventario , cis_base,  cis_sku_id 
FROM [PA_TOVA_SIB_Inventarios].[dbo].[Control_Inventario_Sku] 
WHERE cis_control_inventario = @v_DocInventario 
AND cis_base = @v_iIdBase
order by cis_control_inventario , cis_base,  cis_sku_id</property>
                        <property
                          dataType="System.String"
                          description="Variable que contiene el comando SQL para ejecutar."
                          name="SqlCommandVariable"></property>
                        <property
                          dataType="System.Int32"
                          description="Especifica la página de códigos de columna para utilizar cuando la información de página de códigos no está disponible en el origen de datos."
                          name="DefaultCodePage">1252</property>
                        <property
                          dataType="System.Boolean"
                          description="Fuerza el uso del valor de la propiedad DefaultCodePage al describir datos de caracteres."
                          name="AlwaysUseDefaultCodePage">false</property>
                        <property
                          dataType="System.Int32"
                          description="Especifica el modo utilizado para obtener acceso a la base de datos."
                          name="AccessMode"
                          typeConverter="AccessMode">2</property>
                        <property
                          dataType="System.String"
                          description="Asignaciones entre los parámetros del comando SQL y las variables."
                          name="ParameterMapping">"Parámetro0:Input",{7AB88085-C920-41CF-820C-CABFBA0007FD};"Parámetro1:Input",{EF6FFE30-BCCE-4F6C-AE39-6F1AAC42EDD0};</property>
                      </properties>
                      <connections>
                        <connection
                          refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Connections[OleDbConnection]"
                          connectionManagerID="Package.ConnectionManagers[PA_TOVA_SIB_Inventarios]"
                          connectionManagerRefId="Package.ConnectionManagers[PA_TOVA_SIB_Inventarios]"
                          description="La conexión de tiempo de ejecución OLE DB usada para obtener acceso a la base de datos."
                          name="OleDbConnection" />
                      </connections>
                      <outputs>
                        <output
                          refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB]"
                          isSorted="true"
                          name="Salida de origen de OLE DB">
                          <outputColumns>
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_base]"
                              dataType="i4"
                              errorOrTruncationOperation="Conversión"
                              errorRowDisposition="FailComponent"
                              externalMetadataColumnId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_base]"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_base]"
                              name="cis_base"
                              sortKeyPosition="2"
                              truncationRowDisposition="FailComponent" />
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]"
                              dataType="numeric"
                              errorOrTruncationOperation="Conversión"
                              errorRowDisposition="FailComponent"
                              externalMetadataColumnId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_sku_id]"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]"
                              name="cis_sku_id"
                              precision="13"
                              sortKeyPosition="3"
                              truncationRowDisposition="FailComponent" />
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_control_inventario]"
                              dataType="wstr"
                              errorOrTruncationOperation="Conversión"
                              errorRowDisposition="FailComponent"
                              externalMetadataColumnId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_control_inventario]"
                              length="20"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_control_inventario]"
                              name="cis_control_inventario"
                              sortKeyPosition="1"
                              truncationRowDisposition="FailComponent" />
                          </outputColumns>
                          <externalMetadataColumns
                            isUsed="True">
                            <externalMetadataColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_base]"
                              dataType="i4"
                              name="cis_base" />
                            <externalMetadataColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_sku_id]"
                              dataType="numeric"
                              name="cis_sku_id"
                              precision="13" />
                            <externalMetadataColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_control_inventario]"
                              dataType="wstr"
                              length="20"
                              name="cis_control_inventario" />
                          </externalMetadataColumns>
                        </output>
                        <output
                          refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB]"
                          isErrorOut="true"
                          name="Salida de error de origen de OLE DB">
                          <outputColumns>
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[cis_control_inventario]"
                              dataType="wstr"
                              length="20"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[cis_control_inventario]"
                              name="cis_control_inventario" />
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[cis_base]"
                              dataType="i4"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[cis_base]"
                              name="cis_base" />
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[cis_sku_id]"
                              dataType="numeric"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[cis_sku_id]"
                              name="cis_sku_id"
                              precision="13" />
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[ErrorCode]"
                              dataType="i4"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[ErrorCode]"
                              name="ErrorCode"
                              specialFlags="1" />
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[ErrorColumn]"
                              dataType="i4"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[ErrorColumn]"
                              name="ErrorColumn"
                              specialFlags="2" />
                          </outputColumns>
                          <externalMetadataColumns />
                        </output>
                      </outputs>
                    </component>
                  </components>
                  <paths>
                    <path
                      refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes.Paths[Salida de origen de OLE DB]"
                      endId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB]"
                      name="Salida de origen de OLE DB"
                      startId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento.Outputs[Salida de origen de OLE DB]" />
                  </paths>
                </pipeline>
              </DTS:ObjectData>
            </DTS:Executable>
            <DTS:Executable
              DTS:refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo"
              DTS:CreationName="SSIS.Pipeline.3"
              DTS:Description="Tarea Flujo de datos"
              DTS:DTSID="{e44da2d0-b2ae-4520-a80f-c221663f121d}"
              DTS:ExecutableType="SSIS.Pipeline.3"
              DTS:LocaleID="-1"
              DTS:ObjectName="0102 Cargar ubicaciones de deposito segun conteo"
              DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
              <DTS:Variables />
              <DTS:ObjectData>
                <pipeline
                  version="1">
                  <components>
                    <component
                      refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU"
                      componentClassID="DTSTransform.OLEDBCommand.3"
                      contactInfo="Comando de OLE DB;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;2"
                      description="Ejecuta una instrucción SQL para cada fila de un flujo de datos. Por ejemplo, se usa para llamar al procedimiento almacenado de configuración de nuevo empleado para cada fila de la tabla de nuevos empleados. Nota: la ejecución de una instrucción SQL para cada fila de un flujo de datos de gran tamaño puede tardar mucho tiempo."
                      name="Insertar en Ubicaciones_SKU"
                      usesDispositions="true"
                      version="2">
                      <properties>
                        <property
                          dataType="System.Int32"
                          description="Número de segundos antes de que se agote el tiempo de espera de un comando. Un valor de 0 indica un tiempo de espera infinito."
                          name="CommandTimeout">0</property>
                        <property
                          dataType="System.String"
                          description="Comando SQL para ejecutar."
                          expressionType="Notify"
                          name="SqlCommand"
                          UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">DECLARE @base AS INT = ?  /* Id de la base */  
DECLARE @sku_id AS DECIMAL(18,0) = ?  /* SKU ID del producto */
DECLARE @ubicacion as varchar(max) = ? /* identificador de ubicacion */

INSERT INTO [dbo].[Ubicaciones_SKU] WITH (ROWLOCK)
([Base]
,[sku_id]
,[ubicacion]
,[Creador]
,[Modificador]
,[FechaCreacion]
,[FechaModificacion])
SELECT @base AS Base
,@sku_id AS sku_id
,@ubicacion AS ubicacion
,'USR_JOBS' AS Creador
,'USR_JOBS' AS Modificador
,getdate() AS FechaCreacion
,getdate() AS FechaModificacion
WHERE NOT EXISTS (SELECT TOP 1 Base, sku_id, ubicacion 
FROM [dbo].[Ubicaciones_SKU] B 
WHERE B.Base = @base 
AND B.sku_id = @sku_id 
AND B.ubicacion = @ubicacion)</property>
                        <property
                          dataType="System.Int32"
                          description="Especifica la página de códigos de columna para utilizar cuando la información de página de códigos no está disponible en el origen de datos."
                          name="DefaultCodePage">1252</property>
                      </properties>
                      <connections>
                        <connection
                          refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Connections[OleDbConnection]"
                          connectionManagerID="Package.ConnectionManagers[SISBASES]"
                          connectionManagerRefId="Package.ConnectionManagers[SISBASES]"
                          description="La conexión de tiempo de ejecución OLE DB usada para obtener acceso a la base de datos."
                          name="OleDbConnection" />
                      </connections>
                      <inputs>
                        <input
                          refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB]"
                          errorOrTruncationOperation="Ejecución de comando"
                          errorRowDisposition="FailComponent"
                          hasSideEffects="true"
                          name="Entrada de comando de OLE DB">
                          <inputColumns>
                            <inputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB].Columns[base]"
                              cachedDataType="i4"
                              cachedName="base"
                              cachedSortKeyPosition="1"
                              externalMetadataColumnId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_0]"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB].Columns[base]" />
                            <inputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB].Columns[sku_id]"
                              cachedDataType="numeric"
                              cachedName="sku_id"
                              cachedPrecision="13"
                              cachedSortKeyPosition="2"
                              externalMetadataColumnId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_1]"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB].Columns[sku_id]" />
                            <inputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB].Columns[ubicacion]"
                              cachedCodepage="1252"
                              cachedDataType="str"
                              cachedLength="50"
                              cachedName="ubicacion"
                              cachedSortKeyPosition="3"
                              externalMetadataColumnId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_2]"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB].Columns[ubicacion]" />
                          </inputColumns>
                          <externalMetadataColumns
                            isUsed="True">
                            <externalMetadataColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_0]"
                              dataType="i4"
                              name="Param_0">
                              <properties>
                                <property
                                  dataType="System.Int32"
                                  description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                                  name="DBParamInfoFlags">81</property>
                              </properties>
                            </externalMetadataColumn>
                            <externalMetadataColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_1]"
                              dataType="numeric"
                              name="Param_1"
                              precision="18">
                              <properties>
                                <property
                                  dataType="System.Int32"
                                  description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                                  name="DBParamInfoFlags">81</property>
                              </properties>
                            </externalMetadataColumn>
                            <externalMetadataColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_2]"
                              codePage="1252"
                              dataType="text"
                              name="Param_2">
                              <properties>
                                <property
                                  dataType="System.Int32"
                                  description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                                  name="DBParamInfoFlags">193</property>
                              </properties>
                            </externalMetadataColumn>
                          </externalMetadataColumns>
                        </input>
                      </inputs>
                      <outputs>
                        <output
                          refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Outputs[Salida de comando de OLE DB]"
                          exclusionGroup="1"
                          name="Salida de comando de OLE DB"
                          synchronousInputId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB]">
                          <externalMetadataColumns />
                        </output>
                        <output
                          refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Outputs[Salida de error de comando de OLE DB]"
                          exclusionGroup="1"
                          isErrorOut="true"
                          name="Salida de error de comando de OLE DB"
                          synchronousInputId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB]">
                          <outputColumns>
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Outputs[Salida de error de comando de OLE DB].Columns[ErrorCode]"
                              dataType="i4"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Outputs[Salida de error de comando de OLE DB].Columns[ErrorCode]"
                              name="ErrorCode"
                              specialFlags="1" />
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Outputs[Salida de error de comando de OLE DB].Columns[ErrorColumn]"
                              dataType="i4"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Outputs[Salida de error de comando de OLE DB].Columns[ErrorColumn]"
                              name="ErrorColumn"
                              specialFlags="2" />
                          </outputColumns>
                          <externalMetadataColumns />
                        </output>
                      </outputs>
                    </component>
                    <component
                      refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo"
                      componentClassID="DTSAdapter.OLEDBSource.3"
                      contactInfo="Origen de OLE DB;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;7"
                      description="Origen de OLE DB"
                      name="Obtener ubicaciones por SKU segun conteo"
                      usesDispositions="true"
                      version="7">
                      <properties>
                        <property
                          dataType="System.Int32"
                          description="Número de segundos antes de que se agote el tiempo de espera de un comando. Un valor de 0 indica un tiempo de espera infinito."
                          name="CommandTimeout">0</property>
                        <property
                          dataType="System.String"
                          description="Especifica el nombre del objeto de base de datos usado para abrir un conjunto de filas."
                          name="OpenRowset"></property>
                        <property
                          dataType="System.String"
                          description="Especifica la variable que contiene el nombre del objeto de base de datos usado para abrir un conjunto de filas."
                          name="OpenRowsetVariable"></property>
                        <property
                          dataType="System.String"
                          description="Comando SQL para ejecutar."
                          name="SqlCommand"
                          UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">DECLARE @base AS INT = ?  /* Id de la base */  
DECLARE @DocInventario as nvarchar(20) = ?  /* Documento de Inventario */

SELECT base, sku_id, ubicacion FROM
(
SELECT DISTINCT a.ciu_base AS base, a.ciu_sku_id AS sku_id, b.Identificador AS ubicacion
FROM [PA_TOVA_SIB_Inventarios].[dbo].[Control_Inventario_Upc] A WITH(nolock) /* SKU incluidos en la FOTO */
INNER JOIN [PA_TOVA_SIB_Inventarios].[dbo].[InventarioDeposito] B WITH(nolock)
ON a.ciu_base = b.Base
AND a.ciu_sku_id = b.sku_id
AND a.ciu_control_inventario  collate database_default = b.control_inventario collate database_default
WHERE A.ciu_control_inventario = @DocInventario
AND A.ciu_base = @base
AND (isnull(A.ciu_cantidad_conteo_mod,0) &lt;&gt; 0 OR isnull(A.ciu_cantidad_conteo,0) &lt;&gt; 0)
AND B.Base = @base 	
AND B.control_inventario = @DocInventario 
AND isnull(B.marcado,0) = 1 
AND ISNULL(B.estado,0) = 2
GROUP BY a.ciu_control_inventario , a.ciu_base, a.ciu_sku_id, b.Identificador
HAVING SUM(b.Cantidad) &gt; 0
UNION
SELECT DISTINCT a.sd_base AS base, a.sd_sku_id AS sku_id, b.Identificador AS ubicacion
FROM [PA_TOVA_SIB_Inventarios].[dbo].[Control_Inv_Upc_SinDoc] A WITH(nolock) /* SKU contados sin pertenecer a la foto*/
INNER JOIN [PA_TOVA_SIB_Inventarios].[dbo].[InventarioDeposito] B WITH(nolock)
ON a.sd_base = b.Base
AND a.sd_sku_id = b.sku_id
AND a.sd_control_inventario  collate database_default = b.control_inventario collate database_default
WHERE a.sd_control_inventario = @DocInventario
AND a.sd_base = @base
AND isnull(a.sd_sku_id,0)&gt; 0
AND isnull(a.sd_cantidad_contada,0) &lt;&gt; 0
AND B.Base = @base 	
AND B.control_inventario = @DocInventario 
AND isnull(B.marcado,0) = 1 
AND ISNULL(B.estado,0) = 2
GROUP BY a.sd_control_inventario , a.sd_base, a.sd_sku_id, b.Identificador
HAVING SUM(b.Cantidad) &gt; 0
) A	
ORDER BY base, sku_id, ubicacion;</property>
                        <property
                          dataType="System.String"
                          description="Variable que contiene el comando SQL para ejecutar."
                          name="SqlCommandVariable"></property>
                        <property
                          dataType="System.Int32"
                          description="Especifica la página de códigos de columna para utilizar cuando la información de página de códigos no está disponible en el origen de datos."
                          name="DefaultCodePage">1252</property>
                        <property
                          dataType="System.Boolean"
                          description="Fuerza el uso del valor de la propiedad DefaultCodePage al describir datos de caracteres."
                          name="AlwaysUseDefaultCodePage">false</property>
                        <property
                          dataType="System.Int32"
                          description="Especifica el modo utilizado para obtener acceso a la base de datos."
                          name="AccessMode"
                          typeConverter="AccessMode">2</property>
                        <property
                          dataType="System.String"
                          description="Asignaciones entre los parámetros del comando SQL y las variables."
                          name="ParameterMapping">"Parámetro0:Input",{7AB88085-C920-41CF-820C-CABFBA0007FD};"Parámetro1:Input",{EF6FFE30-BCCE-4F6C-AE39-6F1AAC42EDD0};</property>
                      </properties>
                      <connections>
                        <connection
                          refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Connections[OleDbConnection]"
                          connectionManagerID="Package.ConnectionManagers[PA_TOVA_SIB_Inventarios]"
                          connectionManagerRefId="Package.ConnectionManagers[PA_TOVA_SIB_Inventarios]"
                          description="La conexión de tiempo de ejecución OLE DB usada para obtener acceso a la base de datos."
                          name="OleDbConnection" />
                      </connections>
                      <outputs>
                        <output
                          refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB]"
                          isSorted="true"
                          name="Salida de origen de OLE DB">
                          <outputColumns>
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB].Columns[base]"
                              dataType="i4"
                              errorOrTruncationOperation="Conversión"
                              errorRowDisposition="FailComponent"
                              externalMetadataColumnId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB].ExternalColumns[base]"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB].Columns[base]"
                              name="base"
                              sortKeyPosition="1"
                              truncationRowDisposition="FailComponent" />
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB].Columns[sku_id]"
                              dataType="numeric"
                              errorOrTruncationOperation="Conversión"
                              errorRowDisposition="FailComponent"
                              externalMetadataColumnId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB].ExternalColumns[sku_id]"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB].Columns[sku_id]"
                              name="sku_id"
                              precision="13"
                              sortKeyPosition="2"
                              truncationRowDisposition="FailComponent" />
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB].Columns[ubicacion]"
                              codePage="1252"
                              dataType="str"
                              errorOrTruncationOperation="Conversión"
                              errorRowDisposition="FailComponent"
                              externalMetadataColumnId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB].ExternalColumns[ubicacion]"
                              length="50"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB].Columns[ubicacion]"
                              name="ubicacion"
                              sortKeyPosition="3"
                              truncationRowDisposition="FailComponent" />
                          </outputColumns>
                          <externalMetadataColumns
                            isUsed="True">
                            <externalMetadataColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB].ExternalColumns[base]"
                              dataType="i4"
                              name="base" />
                            <externalMetadataColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB].ExternalColumns[sku_id]"
                              dataType="numeric"
                              name="sku_id"
                              precision="13" />
                            <externalMetadataColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB].ExternalColumns[ubicacion]"
                              codePage="1252"
                              dataType="str"
                              length="50"
                              name="ubicacion" />
                          </externalMetadataColumns>
                        </output>
                        <output
                          refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de error de origen de OLE DB]"
                          isErrorOut="true"
                          name="Salida de error de origen de OLE DB">
                          <outputColumns>
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de error de origen de OLE DB].Columns[base]"
                              dataType="i4"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de error de origen de OLE DB].Columns[base]"
                              name="base" />
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de error de origen de OLE DB].Columns[sku_id]"
                              dataType="numeric"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de error de origen de OLE DB].Columns[sku_id]"
                              name="sku_id"
                              precision="13" />
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de error de origen de OLE DB].Columns[ubicacion]"
                              codePage="1252"
                              dataType="str"
                              length="50"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de error de origen de OLE DB].Columns[ubicacion]"
                              name="ubicacion" />
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de error de origen de OLE DB].Columns[ErrorCode]"
                              dataType="i4"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de error de origen de OLE DB].Columns[ErrorCode]"
                              name="ErrorCode"
                              specialFlags="1" />
                            <outputColumn
                              refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de error de origen de OLE DB].Columns[ErrorColumn]"
                              dataType="i4"
                              lineageId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de error de origen de OLE DB].Columns[ErrorColumn]"
                              name="ErrorColumn"
                              specialFlags="2" />
                          </outputColumns>
                          <externalMetadataColumns />
                        </output>
                      </outputs>
                    </component>
                  </components>
                  <paths>
                    <path
                      refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo.Paths[Salida de origen de OLE DB]"
                      endId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU.Inputs[Entrada de comando de OLE DB]"
                      name="Salida de origen de OLE DB"
                      startId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo.Outputs[Salida de origen de OLE DB]" />
                  </paths>
                </pipeline>
              </DTS:ObjectData>
            </DTS:Executable>
          </DTS:Executables>
          <DTS:PrecedenceConstraints>
            <DTS:PrecedenceConstraint
              DTS:refId="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo.PrecedenceConstraints[Restricción]"
              DTS:CreationName=""
              DTS:DTSID="{1B3AD7DF-DC40-4396-91E0-4B17F94F348F}"
              DTS:From="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes"
              DTS:LogicalAnd="True"
              DTS:ObjectName="Restricción"
              DTS:To="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo" />
          </DTS:PrecedenceConstraints>
        </DTS:Executable>
        <DTS:Executable
          DTS:refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*"
          DTS:CreationName="SSIS.Pipeline.3"
          DTS:Description="Tarea Flujo de datos"
          DTS:DTSID="{1954771C-BDAE-4113-84B2-E2A28048AD64}"
          DTS:ExecutableType="SSIS.Pipeline.3"
          DTS:LocaleID="-1"
          DTS:ObjectName="02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*"
          DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
          <DTS:Variables />
          <DTS:ObjectData>
            <pipeline
              version="1">
              <components>
                <component
                  refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso"
                  componentClassID="DTSTransform.OLEDBCommand.3"
                  contactInfo="Comando de OLE DB;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;2"
                  description="Ejecuta una instrucción SQL para cada fila de un flujo de datos. Por ejemplo, se usa para llamar al procedimiento almacenado de configuración de nuevo empleado para cada fila de la tabla de nuevos empleados. Nota: la ejecución de una instrucción SQL para cada fila de un flujo de datos de gran tamaño puede tardar mucho tiempo."
                  name="Borrar coincidencias en InventarioInicialPiso"
                  usesDispositions="true"
                  version="2">
                  <properties>
                    <property
                      dataType="System.Int32"
                      description="Número de segundos antes de que se agote el tiempo de espera de un comando. Un valor de 0 indica un tiempo de espera infinito."
                      name="CommandTimeout">0</property>
                    <property
                      dataType="System.String"
                      description="Comando SQL para ejecutar."
                      expressionType="Notify"
                      name="SqlCommand"
                      UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">DECLARE @v_iIdBase AS INT = ?  /* Id de la base */  
DECLARE  @v_skuid AS [decimal](13, 0) = ? /* SKU_ID del producto */

DELETE [ADUANA].[InventarioInicialPiso] 
WHERE base = @v_iIdBase 
AND sku_id = @v_skuid </property>
                    <property
                      dataType="System.Int32"
                      description="Especifica la página de códigos de columna para utilizar cuando la información de página de códigos no está disponible en el origen de datos."
                      name="DefaultCodePage">1252</property>
                  </properties>
                  <connections>
                    <connection
                      refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Connections[OleDbConnection]"
                      connectionManagerID="Package.ConnectionManagers[SISBASES]"
                      connectionManagerRefId="Package.ConnectionManagers[SISBASES]"
                      description="La conexión de tiempo de ejecución OLE DB usada para obtener acceso a la base de datos."
                      name="OleDbConnection" />
                  </connections>
                  <inputs>
                    <input
                      refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]"
                      errorOrTruncationOperation="Ejecución de comando"
                      errorRowDisposition="FailComponent"
                      hasSideEffects="true"
                      name="Entrada de comando de OLE DB">
                      <inputColumns>
                        <inputColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_base]"
                          cachedDataType="i4"
                          cachedName="cis_base"
                          cachedSortKeyPosition="2"
                          externalMetadataColumnId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_0]"
                          lineageId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_base]" />
                        <inputColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_sku_id]"
                          cachedDataType="numeric"
                          cachedName="cis_sku_id"
                          cachedPrecision="13"
                          cachedSortKeyPosition="3"
                          externalMetadataColumnId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_1]"
                          lineageId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]" />
                      </inputColumns>
                      <externalMetadataColumns
                        isUsed="True">
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_0]"
                          dataType="i4"
                          name="Param_0">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">81</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_1]"
                          dataType="numeric"
                          name="Param_1"
                          precision="13">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">81</property>
                          </properties>
                        </externalMetadataColumn>
                      </externalMetadataColumns>
                    </input>
                  </inputs>
                  <outputs>
                    <output
                      refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Outputs[Salida de comando de OLE DB]"
                      exclusionGroup="1"
                      name="Salida de comando de OLE DB"
                      synchronousInputId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]">
                      <externalMetadataColumns />
                    </output>
                    <output
                      refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB]"
                      exclusionGroup="1"
                      isErrorOut="true"
                      name="Salida de error de comando de OLE DB"
                      synchronousInputId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorCode]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorCode]"
                          name="ErrorCode"
                          specialFlags="1" />
                        <outputColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorColumn]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorColumn]"
                          name="ErrorColumn"
                          specialFlags="2" />
                      </outputColumns>
                      <externalMetadataColumns />
                    </output>
                  </outputs>
                </component>
                <component
                  refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento"
                  componentClassID="DTSAdapter.OLEDBSource.3"
                  contactInfo="Origen de OLE DB;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;7"
                  description="Origen de OLE DB"
                  name="Obtener SKU del documento"
                  usesDispositions="true"
                  version="7">
                  <properties>
                    <property
                      dataType="System.Int32"
                      description="Número de segundos antes de que se agote el tiempo de espera de un comando. Un valor de 0 indica un tiempo de espera infinito."
                      name="CommandTimeout">0</property>
                    <property
                      dataType="System.String"
                      description="Especifica el nombre del objeto de base de datos usado para abrir un conjunto de filas."
                      name="OpenRowset"></property>
                    <property
                      dataType="System.String"
                      description="Especifica la variable que contiene el nombre del objeto de base de datos usado para abrir un conjunto de filas."
                      name="OpenRowsetVariable"></property>
                    <property
                      dataType="System.String"
                      description="Comando SQL para ejecutar."
                      name="SqlCommand"
                      UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">DECLARE @v_iIdBase AS INT = ?  /* Id de la base */  
DECLARE @v_DocInventario as nvarchar(20) = ?  /* Documento de Inventario */
DECLARE @v_tipo_conteo int = ? /* Tipo de Conteo 1=CICLICO 2=DIARIO 3=ADUANAS */; 

SELECT cis_control_inventario , cis_base,  cis_sku_id 
FROM [PA_TOVA_SIB_Inventarios].[dbo].[Control_Inventario_Sku] 
WHERE cis_control_inventario = @v_DocInventario 
AND cis_base = @v_iIdBase
AND @v_tipo_conteo = 3  /* ADUANAS */ 
order by cis_control_inventario , cis_base,  cis_sku_id</property>
                    <property
                      dataType="System.String"
                      description="Variable que contiene el comando SQL para ejecutar."
                      name="SqlCommandVariable"></property>
                    <property
                      dataType="System.Int32"
                      description="Especifica la página de códigos de columna para utilizar cuando la información de página de códigos no está disponible en el origen de datos."
                      name="DefaultCodePage">1252</property>
                    <property
                      dataType="System.Boolean"
                      description="Fuerza el uso del valor de la propiedad DefaultCodePage al describir datos de caracteres."
                      name="AlwaysUseDefaultCodePage">false</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica el modo utilizado para obtener acceso a la base de datos."
                      name="AccessMode"
                      typeConverter="AccessMode">2</property>
                    <property
                      dataType="System.String"
                      description="Asignaciones entre los parámetros del comando SQL y las variables."
                      name="ParameterMapping">"Parámetro0:Input",{7AB88085-C920-41CF-820C-CABFBA0007FD};"Parámetro1:Input",{EF6FFE30-BCCE-4F6C-AE39-6F1AAC42EDD0};"Parámetro2:Input",{025DB018-22FF-42CB-8542-7F4CF1ED596F};</property>
                  </properties>
                  <connections>
                    <connection
                      refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Connections[OleDbConnection]"
                      connectionManagerID="Package.ConnectionManagers[PA_TOVA_SIB_Inventarios]"
                      connectionManagerRefId="Package.ConnectionManagers[PA_TOVA_SIB_Inventarios]"
                      description="La conexión de tiempo de ejecución OLE DB usada para obtener acceso a la base de datos."
                      name="OleDbConnection" />
                  </connections>
                  <outputs>
                    <output
                      refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB]"
                      isSorted="true"
                      name="Salida de origen de OLE DB">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_base]"
                          dataType="i4"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_base]"
                          lineageId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_base]"
                          name="cis_base"
                          sortKeyPosition="2"
                          truncationRowDisposition="FailComponent" />
                        <outputColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]"
                          dataType="numeric"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_sku_id]"
                          lineageId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]"
                          name="cis_sku_id"
                          precision="13"
                          sortKeyPosition="3"
                          truncationRowDisposition="FailComponent" />
                        <outputColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_control_inventario]"
                          dataType="wstr"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_control_inventario]"
                          length="20"
                          lineageId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].Columns[cis_control_inventario]"
                          name="cis_control_inventario"
                          sortKeyPosition="1"
                          truncationRowDisposition="FailComponent" />
                      </outputColumns>
                      <externalMetadataColumns
                        isUsed="True">
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_base]"
                          dataType="i4"
                          name="cis_base" />
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_sku_id]"
                          dataType="numeric"
                          name="cis_sku_id"
                          precision="13" />
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_control_inventario]"
                          dataType="wstr"
                          length="20"
                          name="cis_control_inventario" />
                      </externalMetadataColumns>
                    </output>
                    <output
                      refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB]"
                      isErrorOut="true"
                      name="Salida de error de origen de OLE DB">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[cis_control_inventario]"
                          dataType="wstr"
                          length="20"
                          lineageId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[cis_control_inventario]"
                          name="cis_control_inventario" />
                        <outputColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[cis_base]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[cis_base]"
                          name="cis_base" />
                        <outputColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[cis_sku_id]"
                          dataType="numeric"
                          lineageId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[cis_sku_id]"
                          name="cis_sku_id"
                          precision="13" />
                        <outputColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[ErrorCode]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[ErrorCode]"
                          name="ErrorCode"
                          specialFlags="1" />
                        <outputColumn
                          refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[ErrorColumn]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de error de origen de OLE DB].Columns[ErrorColumn]"
                          name="ErrorColumn"
                          specialFlags="2" />
                      </outputColumns>
                      <externalMetadataColumns />
                    </output>
                  </outputs>
                </component>
              </components>
              <paths>
                <path
                  refId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*.Paths[Salida de origen de OLE DB]"
                  endId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]"
                  name="Salida de origen de OLE DB"
                  startId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento.Outputs[Salida de origen de OLE DB]" />
              </paths>
            </pipeline>
          </DTS:ObjectData>
        </DTS:Executable>
        <DTS:Executable
          DTS:refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo"
          DTS:CreationName="SSIS.Pipeline.3"
          DTS:Description="Tarea Flujo de datos"
          DTS:DTSID="{81214996-6dd6-4009-8863-a5e26b3c400d}"
          DTS:ExecutableType="SSIS.Pipeline.3"
          DTS:LocaleID="-1"
          DTS:ObjectName="03  Cargar Inventario Inicial de Piso segun el conteo"
          DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
          <DTS:Variables />
          <DTS:ObjectData>
            <pipeline
              version="1">
              <components>
                <component
                  refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso"
                  componentClassID="DTSTransform.OLEDBCommand.3"
                  contactInfo="Comando de OLE DB;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;2"
                  description="Ejecuta una instrucción SQL para cada fila de un flujo de datos. Por ejemplo, se usa para llamar al procedimiento almacenado de configuración de nuevo empleado para cada fila de la tabla de nuevos empleados. Nota: la ejecución de una instrucción SQL para cada fila de un flujo de datos de gran tamaño puede tardar mucho tiempo."
                  name="Actualizar InventarioInicialPiso"
                  usesDispositions="true"
                  version="2">
                  <properties>
                    <property
                      dataType="System.Int32"
                      description="Número de segundos antes de que se agote el tiempo de espera de un comando. Un valor de 0 indica un tiempo de espera infinito."
                      name="CommandTimeout">0</property>
                    <property
                      dataType="System.String"
                      description="Comando SQL para ejecutar."
                      expressionType="Notify"
                      name="SqlCommand"
                      UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">DECLARE @base AS INT = ?  /* Id de la base */  
DECLARE @sku_id AS DECIMAL(18,0) = ?  /* SKU ID del producto */
DECLARE @DocInventario as nvarchar(50) = ?  /* Documento de Inventario */
DECLARE @estilo as nvarchar(50) = ? /* codigo de estilo del producto */
DECLARE @cantidad_piso AS INT = ?
DECLARE @fecha_conteo as datetime =?
DECLARE @fecha_proceso as datetime =?

UPDATE [ADUANA].[InventarioInicialPiso] WITH (ROWLOCK)
SET style_code = @estilo
,control_inventario = @DocInventario
,FechaUltimoConteo = @fecha_conteo
,CantidadPiso = @cantidad_piso
,LastUpdate = GETDATE()
WHERE base = @base
AND sku_id = @sku_id	 
AND (LastUpdate IS NULL OR LastUpdate &lt; @fecha_proceso)</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica la página de códigos de columna para utilizar cuando la información de página de códigos no está disponible en el origen de datos."
                      name="DefaultCodePage">1252</property>
                  </properties>
                  <connections>
                    <connection
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Connections[OleDbConnection]"
                      connectionManagerID="Package.ConnectionManagers[SISBASES]"
                      connectionManagerRefId="Package.ConnectionManagers[SISBASES]"
                      description="La conexión de tiempo de ejecución OLE DB usada para obtener acceso a la base de datos."
                      name="OleDbConnection" />
                  </connections>
                  <inputs>
                    <input
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]"
                      errorOrTruncationOperation="Ejecución de comando"
                      errorRowDisposition="FailComponent"
                      hasSideEffects="true"
                      name="Entrada de comando de OLE DB">
                      <inputColumns>
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_base]"
                          cachedDataType="i4"
                          cachedName="cis_base"
                          cachedSortKeyPosition="1"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_0]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_base]" />
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_sku_id]"
                          cachedDataType="numeric"
                          cachedName="cis_sku_id"
                          cachedPrecision="13"
                          cachedSortKeyPosition="2"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_1]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]" />
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_control_inventario]"
                          cachedDataType="wstr"
                          cachedLength="20"
                          cachedName="cis_control_inventario"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_2]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_control_inventario]" />
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_estilo_cod]"
                          cachedDataType="wstr"
                          cachedLength="20"
                          cachedName="cis_estilo_cod"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_3]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_estilo_cod]" />
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cantidadPiso]"
                          cachedDataType="i4"
                          cachedName="cantidadPiso"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_4]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cantidadPiso]" />
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[fecha_conteo]"
                          cachedDataType="dbTimeStamp"
                          cachedName="fecha_conteo"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_5]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[fecha_conteo]" />
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[fecha_proceso]"
                          cachedDataType="date"
                          cachedName="fecha_proceso"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_6]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada.Outputs[Salida de columna derivada].Columns[fecha_proceso]" />
                      </inputColumns>
                      <externalMetadataColumns
                        isUsed="True">
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_0]"
                          dataType="i4"
                          name="Param_0">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">81</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_1]"
                          dataType="numeric"
                          name="Param_1"
                          precision="18">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">81</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_2]"
                          dataType="wstr"
                          length="50"
                          name="Param_2">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">193</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_3]"
                          dataType="wstr"
                          length="50"
                          name="Param_3">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">65</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_4]"
                          dataType="i4"
                          name="Param_4">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">81</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_5]"
                          dataType="dbTimeStamp"
                          name="Param_5">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">65</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_6]"
                          dataType="dbTimeStamp"
                          name="Param_6">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">65</property>
                          </properties>
                        </externalMetadataColumn>
                      </externalMetadataColumns>
                    </input>
                  </inputs>
                  <outputs>
                    <output
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Outputs[Salida de comando de OLE DB]"
                      exclusionGroup="1"
                      name="Salida de comando de OLE DB"
                      synchronousInputId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]">
                      <externalMetadataColumns />
                    </output>
                    <output
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB]"
                      exclusionGroup="1"
                      isErrorOut="true"
                      name="Salida de error de comando de OLE DB"
                      synchronousInputId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorCode]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorCode]"
                          name="ErrorCode"
                          specialFlags="1" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorColumn]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorColumn]"
                          name="ErrorColumn"
                          specialFlags="2" />
                      </outputColumns>
                      <externalMetadataColumns />
                    </output>
                  </outputs>
                </component>
                <component
                  refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda"
                  componentClassID="DTSTransform.Lookup.3"
                  contactInfo="Búsqueda;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;6"
                  description="Combina columnas adicionales con el flujo de datos mediante la búsqueda de valores en una tabla. Por ejemplo, se combina la columna 'id. de empleado' con la tabla de empleados para obtener la 'fecha de contratación' y 'el nombre de empleado'. Se recomienda esta transformación cuando hay suficiente espacio en memoria para la tabla de búsqueda."
                  name="Búsqueda"
                  usesDispositions="true"
                  version="6">
                  <properties>
                    <property
                      dataType="System.String"
                      description="Especifica la instrucción SQL que genera la tabla de búsqueda."
                      expressionType="Notify"
                      name="SqlCommand"
                      UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">select * from [ADUANA].[InventarioInicialPiso]</property>
                    <property
                      dataType="System.String"
                      description="Especifica una instrucción SQL que usa parámetros para generar la tabla de búsqueda."
                      expressionType="Notify"
                      name="SqlCommandParam"
                      UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">select * from (select * from [ADUANA].[InventarioInicialPiso]) [refTable]
where [refTable].[base] = ? and [refTable].[sku_id] = ?</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica el tipo de conexión utilizado para tener acceso al conjunto de datos de referencia."
                      name="ConnectionType"
                      typeConverter="LookupConnectionType">0</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica el tipo de caché de la tabla de búsqueda."
                      name="CacheType"
                      typeConverter="CacheType">0</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica cómo la transformación de búsquedas trata las filas sin entradas coincidentes en el conjunto de datos de referencia."
                      name="NoMatchBehavior"
                      typeConverter="LookupNoMatchBehavior">1</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica el porcentaje de la caché asignado a las filas sin entradas coincidentes en el conjunto de datos de referencia."
                      name="NoMatchCachePercentage">0</property>
                    <property
                      dataType="System.Int32"
                      description="Uso de memoria máximo para la caché de referencia en una plataforma de 32 bits."
                      name="MaxMemoryUsage">25</property>
                    <property
                      dataType="System.Int64"
                      description="Uso de memoria máximo para la caché de referencia en una plataforma de 64 bits."
                      name="MaxMemoryUsage64">25</property>
                    <property
                      dataType="System.String"
                      description="Indica si se debe hacer referencia a metadatos en formato XML."
                      name="ReferenceMetadataXml">&lt;referenceMetadata&gt;&lt;referenceColumns&gt;&lt;referenceColumn name="base" dataType="DT_I4" length="0" precision="0" scale="0" codePage="0"/&gt;&lt;referenceColumn name="sku_id" dataType="DT_NUMERIC" length="0" precision="13" scale="0" codePage="0"/&gt;&lt;referenceColumn name="style_code" dataType="DT_WSTR" length="20" precision="0" scale="0" codePage="0"/&gt;&lt;referenceColumn name="control_inventario" dataType="DT_WSTR" length="20" precision="0" scale="0" codePage="0"/&gt;&lt;referenceColumn name="CantidadPiso" dataType="DT_I4" length="0" precision="0" scale="0" codePage="0"/&gt;&lt;referenceColumn name="FechaUltimoConteo" dataType="DT_DBTIMESTAMP" length="0" precision="0" scale="0" codePage="0"/&gt;&lt;referenceColumn name="LastUpdate" dataType="DT_DBTIMESTAMP" length="0" precision="0" scale="0" codePage="0"/&gt;&lt;/referenceColumns&gt;&lt;/referenceMetadata&gt;</property>
                    <property
                      containsID="true"
                      dataType="System.String"
                      description="Especifica la lista de identificadores de linaje que están asignados a los parámetros que usa la instrucción SQL de la propiedad SQLCommand. Las entradas de la lista están separadas por puntos y comas."
                      name="ParameterMap">#{Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_base]};#{Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]};</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica la página de códigos de columna para utilizar cuando la información de página de códigos no está disponible en el origen de datos."
                      name="DefaultCodePage">1252</property>
                    <property
                      dataType="System.Boolean"
                      description="Determina si las claves duplicadas de los datos de referencia se deben tratar como errores cuando se usa el modo de caché."
                      name="TreatDuplicateKeysAsError">false</property>
                  </properties>
                  <connections>
                    <connection
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Connections[OleDbConnection]"
                      connectionManagerID="Package.ConnectionManagers[SISBASES]"
                      connectionManagerRefId="Package.ConnectionManagers[SISBASES]"
                      description="Administrador de conexiones utilizado para obtener acceso a los datos de búsqueda."
                      name="OleDbConnection" />
                  </connections>
                  <inputs>
                    <input
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Inputs[Entrada de búsqueda]"
                      name="Entrada de búsqueda">
                      <inputColumns>
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Inputs[Entrada de búsqueda].Columns[cis_base]"
                          cachedDataType="i4"
                          cachedName="cis_base"
                          cachedSortKeyPosition="1"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_base]">
                          <properties>
                            <property
                              dataType="System.String"
                              description="Especifica la columna de la tabla de referencia con la que se combina una columna."
                              name="JoinToReferenceColumn">base</property>
                            <property
                              dataType="System.Null"
                              description="Especifica la columna de la tabla de referencia de la que se copia una columna."
                              name="CopyFromReferenceColumn" />
                          </properties>
                        </inputColumn>
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Inputs[Entrada de búsqueda].Columns[cis_sku_id]"
                          cachedDataType="numeric"
                          cachedName="cis_sku_id"
                          cachedPrecision="13"
                          cachedSortKeyPosition="2"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]">
                          <properties>
                            <property
                              dataType="System.String"
                              description="Especifica la columna de la tabla de referencia con la que se combina una columna."
                              name="JoinToReferenceColumn">sku_id</property>
                            <property
                              dataType="System.Null"
                              description="Especifica la columna de la tabla de referencia de la que se copia una columna."
                              name="CopyFromReferenceColumn" />
                          </properties>
                        </inputColumn>
                      </inputColumns>
                      <externalMetadataColumns />
                    </input>
                  </inputs>
                  <outputs>
                    <output
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Outputs[Salida de entradas coincidentes de búsqueda]"
                      errorOrTruncationOperation="Búsqueda"
                      exclusionGroup="1"
                      name="Salida de entradas coincidentes de búsqueda"
                      synchronousInputId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Inputs[Entrada de búsqueda]">
                      <externalMetadataColumns />
                    </output>
                    <output
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Outputs[Salida de entradas no coincidentes de búsqueda]"
                      description="Salida de búsqueda que trata las filas sin entradas coincidentes en el conjunto de datos de referencia. Utilice esta salida cuando la propiedad NoMatchBehavior esté establecida en 'Enviar las filas sin entradas coincidentes a la salida de entradas no coincidentes'."
                      exclusionGroup="1"
                      name="Salida de entradas no coincidentes de búsqueda"
                      synchronousInputId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Inputs[Entrada de búsqueda]">
                      <externalMetadataColumns />
                    </output>
                    <output
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Outputs[Salida de error de búsqueda]"
                      exclusionGroup="1"
                      isErrorOut="true"
                      name="Salida de error de búsqueda"
                      synchronousInputId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Inputs[Entrada de búsqueda]">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Outputs[Salida de error de búsqueda].Columns[ErrorCode]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Outputs[Salida de error de búsqueda].Columns[ErrorCode]"
                          name="ErrorCode"
                          specialFlags="1" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Outputs[Salida de error de búsqueda].Columns[ErrorColumn]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Outputs[Salida de error de búsqueda].Columns[ErrorColumn]"
                          name="ErrorColumn"
                          specialFlags="2" />
                      </outputColumns>
                      <externalMetadataColumns />
                    </output>
                  </outputs>
                </component>
                <component
                  refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada"
                  componentClassID="DTSTransform.DerivedColumn.3"
                  contactInfo="Columna derivada;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;0"
                  description="Crea nuevos valores de columna aplicando expresiones a las columnas de entrada de la transformación. Crea nuevas columnas o sobrescribe las columnas existentes. Por ejemplo, se concatenan los valores de las columnas 'nombre' y 'apellidos' para crear una columna 'nombre completo'."
                  name="Columna derivada"
                  usesDispositions="true">
                  <inputs>
                    <input
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada.Inputs[Entrada de columna derivada]"
                      description="Entrada en la transformación Columna derivada"
                      name="Entrada de columna derivada">
                      <externalMetadataColumns />
                    </input>
                  </inputs>
                  <outputs>
                    <output
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada.Outputs[Salida de columna derivada]"
                      description="Salida predeterminada de la transformación Columna derivada"
                      exclusionGroup="1"
                      name="Salida de columna derivada"
                      synchronousInputId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada.Inputs[Entrada de columna derivada]">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada.Outputs[Salida de columna derivada].Columns[fecha_proceso]"
                          dataType="date"
                          errorOrTruncationOperation="Cálculo"
                          errorRowDisposition="FailComponent"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada.Outputs[Salida de columna derivada].Columns[fecha_proceso]"
                          name="fecha_proceso"
                          truncationRowDisposition="FailComponent">
                          <properties>
                            <property
                              containsID="true"
                              dataType="System.String"
                              description="Expresión de columna derivada"
                              name="Expression">@[User::fInicio_Proceso]</property>
                            <property
                              containsID="true"
                              dataType="System.String"
                              description="Expresión descriptiva de columna derivada"
                              expressionType="Notify"
                              name="FriendlyExpression">@[User::fInicio_Proceso]</property>
                          </properties>
                        </outputColumn>
                      </outputColumns>
                      <externalMetadataColumns />
                    </output>
                    <output
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada.Outputs[Salida de error de columna derivada]"
                      description="Salida de error de la transformación Columna derivada"
                      exclusionGroup="1"
                      isErrorOut="true"
                      name="Salida de error de columna derivada"
                      synchronousInputId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada.Inputs[Entrada de columna derivada]">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada.Outputs[Salida de error de columna derivada].Columns[ErrorCode]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada.Outputs[Salida de error de columna derivada].Columns[ErrorCode]"
                          name="ErrorCode"
                          specialFlags="1" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada.Outputs[Salida de error de columna derivada].Columns[ErrorColumn]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada.Outputs[Salida de error de columna derivada].Columns[ErrorColumn]"
                          name="ErrorColumn"
                          specialFlags="2" />
                      </outputColumns>
                      <externalMetadataColumns />
                    </output>
                  </outputs>
                </component>
                <component
                  refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso"
                  componentClassID="DTSTransform.OLEDBCommand.3"
                  contactInfo="Comando de OLE DB;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;2"
                  description="Ejecuta una instrucción SQL para cada fila de un flujo de datos. Por ejemplo, se usa para llamar al procedimiento almacenado de configuración de nuevo empleado para cada fila de la tabla de nuevos empleados. Nota: la ejecución de una instrucción SQL para cada fila de un flujo de datos de gran tamaño puede tardar mucho tiempo."
                  name="Insertar InventarioInicialPiso"
                  usesDispositions="true"
                  version="2">
                  <properties>
                    <property
                      dataType="System.Int32"
                      description="Número de segundos antes de que se agote el tiempo de espera de un comando. Un valor de 0 indica un tiempo de espera infinito."
                      name="CommandTimeout">0</property>
                    <property
                      dataType="System.String"
                      description="Comando SQL para ejecutar."
                      expressionType="Notify"
                      name="SqlCommand"
                      UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">DECLARE @base AS INT = ?  /* Id de la base */  
DECLARE @sku_id AS DECIMAL(18,0) = ?  /* SKU ID del producto */
DECLARE @DocInventario as nvarchar(50) = ?  /* Documento de Inventario */
DECLARE @estilo as nvarchar(50) = ? /* codigo de estilo del producto */
DECLARE @cantidad_piso AS INT = ?
DECLARE @fecha_conteo as datetime =?
DECLARE @fecha_proceso as datetime =?

INSERT INTO [ADUANA].[InventarioInicialPiso] 
([base],[sku_id],[style_code],[control_inventario],[CantidadPiso],[FechaUltimoConteo], LastUpdate)
select @base as base, @sku_id as sku_id, @estilo as cod_estilo, @DocInventario as control_inventario, 
isnull( @cantidad_piso,0) as cantidadPiso, @fecha_conteo as FechaUltimoConteo , GETDATE() as LastUpdate
where not exists (select top 1 1  
from [ADUANA].[InventarioInicialPiso] p 
where p.base = @base and p.sku_id = @sku_id);	</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica la página de códigos de columna para utilizar cuando la información de página de códigos no está disponible en el origen de datos."
                      name="DefaultCodePage">1252</property>
                  </properties>
                  <connections>
                    <connection
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Connections[OleDbConnection]"
                      connectionManagerID="Package.ConnectionManagers[SISBASES]"
                      connectionManagerRefId="Package.ConnectionManagers[SISBASES]"
                      description="La conexión de tiempo de ejecución OLE DB usada para obtener acceso a la base de datos."
                      name="OleDbConnection" />
                  </connections>
                  <inputs>
                    <input
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]"
                      errorOrTruncationOperation="Ejecución de comando"
                      errorRowDisposition="FailComponent"
                      hasSideEffects="true"
                      name="Entrada de comando de OLE DB">
                      <inputColumns>
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_base]"
                          cachedDataType="i4"
                          cachedName="cis_base"
                          cachedSortKeyPosition="1"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_0]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_base]" />
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cantidadPiso]"
                          cachedDataType="i4"
                          cachedName="cantidadPiso"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_4]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cantidadPiso]" />
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[fecha_conteo]"
                          cachedDataType="dbTimeStamp"
                          cachedName="fecha_conteo"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_5]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[fecha_conteo]" />
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[fecha_proceso]"
                          cachedDataType="date"
                          cachedName="fecha_proceso"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_6]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada.Outputs[Salida de columna derivada].Columns[fecha_proceso]" />
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_sku_id]"
                          cachedDataType="numeric"
                          cachedName="cis_sku_id"
                          cachedPrecision="13"
                          cachedSortKeyPosition="2"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_1]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]" />
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_control_inventario]"
                          cachedDataType="wstr"
                          cachedLength="20"
                          cachedName="cis_control_inventario"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_2]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_control_inventario]" />
                        <inputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_estilo_cod]"
                          cachedDataType="wstr"
                          cachedLength="20"
                          cachedName="cis_estilo_cod"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_3]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_estilo_cod]" />
                      </inputColumns>
                      <externalMetadataColumns
                        isUsed="True">
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_0]"
                          dataType="i4"
                          name="Param_0">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">81</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_1]"
                          dataType="numeric"
                          name="Param_1"
                          precision="18">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">81</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_2]"
                          dataType="wstr"
                          length="50"
                          name="Param_2">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">65</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_3]"
                          dataType="wstr"
                          length="50"
                          name="Param_3">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">65</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_4]"
                          dataType="i4"
                          name="Param_4">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">81</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_5]"
                          dataType="dbTimeStamp"
                          name="Param_5">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">65</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_6]"
                          dataType="dbTimeStamp"
                          name="Param_6">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">65</property>
                          </properties>
                        </externalMetadataColumn>
                      </externalMetadataColumns>
                    </input>
                  </inputs>
                  <outputs>
                    <output
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Outputs[Salida de comando de OLE DB]"
                      exclusionGroup="1"
                      name="Salida de comando de OLE DB"
                      synchronousInputId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]">
                      <externalMetadataColumns />
                    </output>
                    <output
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB]"
                      exclusionGroup="1"
                      isErrorOut="true"
                      name="Salida de error de comando de OLE DB"
                      synchronousInputId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorCode]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorCode]"
                          name="ErrorCode"
                          specialFlags="1" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorColumn]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorColumn]"
                          name="ErrorColumn"
                          specialFlags="2" />
                      </outputColumns>
                      <externalMetadataColumns />
                    </output>
                  </outputs>
                </component>
                <component
                  refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU"
                  componentClassID="DTSAdapter.OLEDBSource.3"
                  contactInfo="Origen de OLE DB;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;7"
                  description="Origen de OLE DB"
                  name="Obtener total contado en piso por SKU"
                  usesDispositions="true"
                  version="7">
                  <properties>
                    <property
                      dataType="System.Int32"
                      description="Número de segundos antes de que se agote el tiempo de espera de un comando. Un valor de 0 indica un tiempo de espera infinito."
                      name="CommandTimeout">0</property>
                    <property
                      dataType="System.String"
                      description="Especifica el nombre del objeto de base de datos usado para abrir un conjunto de filas."
                      name="OpenRowset"></property>
                    <property
                      dataType="System.String"
                      description="Especifica la variable que contiene el nombre del objeto de base de datos usado para abrir un conjunto de filas."
                      name="OpenRowsetVariable"></property>
                    <property
                      dataType="System.String"
                      description="Comando SQL para ejecutar."
                      name="SqlCommand"
                      UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">DECLARE @base AS INT = ?  /* Id de la base */  
DECLARE @DocInventario as nvarchar(20) = ?  /* Documento de Inventario */
DEClARE @fecha_conteo as datetime = ? /* fecha_conteo */

SELECT cis_base,cis_sku_id, cis_estilo_cod,cis_control_inventario,isnull(cantidadPiso,0) as cantidadPiso , @fecha_conteo as fecha_conteo
FROM (
SELECT cis_control_inventario
,cis_base
,cis_sku_id
,cis_estilo_cod							  
FROM [dbo].[Control_Inventario_Sku] WITH (NOLOCK) /* articulos en la foto */
WHERE cis_control_inventario= @DocInventario  
AND cis_base=@base
GROUP BY cis_base
,cis_sku_id
,cis_estilo_cod	
,cis_control_inventario
UNION
SELECT DISTINCT sd_control_inventario
,sd_base 
,sd_sku_id 
,sd_estilo 
FROM [dbo].[Control_Inv_Upc_SinDoc] WITH(nolock) /*articulos contados que no estan en la foto */	
WHERE sd_control_inventario = @DocInventario
AND sd_base = @base
AND isnull(sd_sku_id,0)&gt; 0
AND sd_cantidad_contada &gt; 0 
GROUP BY sd_control_inventario , sd_base, sd_sku_id, sd_estilo 
) AS documento
LEFT outer join( SELECT Base,control_inventario as control_inventario,sku_id,sum(Cantidad) as cantidadPiso 
FROM [dbo].[InventarioPiso] with (nolock) 
where base = @base
and marcado = 1 
and control_inventario = @DocInventario  											
and estado = 2
group by sku_id,base,control_inventario
) as Piso
on cis_base = Piso.Base
and cis_sku_id = Piso.sku_id
and cis_control_inventario = Piso.control_inventario
Where cis_control_inventario =  @DocInventario  
and cis_base = @base
ORDER BY cis_base, cis_sku_id</property>
                    <property
                      dataType="System.String"
                      description="Variable que contiene el comando SQL para ejecutar."
                      name="SqlCommandVariable"></property>
                    <property
                      dataType="System.Int32"
                      description="Especifica la página de códigos de columna para utilizar cuando la información de página de códigos no está disponible en el origen de datos."
                      name="DefaultCodePage">1252</property>
                    <property
                      dataType="System.Boolean"
                      description="Fuerza el uso del valor de la propiedad DefaultCodePage al describir datos de caracteres."
                      name="AlwaysUseDefaultCodePage">false</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica el modo utilizado para obtener acceso a la base de datos."
                      name="AccessMode"
                      typeConverter="AccessMode">2</property>
                    <property
                      dataType="System.String"
                      description="Asignaciones entre los parámetros del comando SQL y las variables."
                      name="ParameterMapping">"Parámetro0:Input",{7AB88085-C920-41CF-820C-CABFBA0007FD};"Parámetro1:Input",{EF6FFE30-BCCE-4F6C-AE39-6F1AAC42EDD0};"Parámetro2:Input",{688606D9-5DB2-461E-927F-DC87BA697515};</property>
                  </properties>
                  <connections>
                    <connection
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Connections[OleDbConnection]"
                      connectionManagerID="Package.ConnectionManagers[PA_TOVA_SIB_Inventarios]"
                      connectionManagerRefId="Package.ConnectionManagers[PA_TOVA_SIB_Inventarios]"
                      description="La conexión de tiempo de ejecución OLE DB usada para obtener acceso a la base de datos."
                      name="OleDbConnection" />
                  </connections>
                  <outputs>
                    <output
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB]"
                      isSorted="true"
                      name="Salida de origen de OLE DB">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_base]"
                          dataType="i4"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_base]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_base]"
                          name="cis_base"
                          sortKeyPosition="1"
                          truncationRowDisposition="FailComponent" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]"
                          dataType="numeric"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_sku_id]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]"
                          name="cis_sku_id"
                          precision="13"
                          sortKeyPosition="2"
                          truncationRowDisposition="FailComponent" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_control_inventario]"
                          dataType="wstr"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_control_inventario]"
                          length="20"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_control_inventario]"
                          name="cis_control_inventario"
                          truncationRowDisposition="FailComponent" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_estilo_cod]"
                          dataType="wstr"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_estilo_cod]"
                          length="20"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_estilo_cod]"
                          name="cis_estilo_cod"
                          truncationRowDisposition="FailComponent" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cantidadPiso]"
                          dataType="i4"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cantidadPiso]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[cantidadPiso]"
                          name="cantidadPiso"
                          truncationRowDisposition="FailComponent" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[fecha_conteo]"
                          dataType="dbTimeStamp"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[fecha_conteo]"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].Columns[fecha_conteo]"
                          name="fecha_conteo"
                          truncationRowDisposition="FailComponent" />
                      </outputColumns>
                      <externalMetadataColumns
                        isUsed="True">
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_base]"
                          dataType="i4"
                          name="cis_base" />
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_sku_id]"
                          dataType="numeric"
                          name="cis_sku_id"
                          precision="13" />
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_control_inventario]"
                          dataType="wstr"
                          length="20"
                          name="cis_control_inventario" />
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_estilo_cod]"
                          dataType="wstr"
                          length="20"
                          name="cis_estilo_cod" />
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cantidadPiso]"
                          dataType="i4"
                          name="cantidadPiso" />
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[fecha_conteo]"
                          dataType="dbTimeStamp"
                          name="fecha_conteo" />
                      </externalMetadataColumns>
                    </output>
                    <output
                      refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB]"
                      isErrorOut="true"
                      name="Salida de error de origen de OLE DB">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_control_inventario]"
                          dataType="wstr"
                          length="20"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_control_inventario]"
                          name="cis_control_inventario" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_base]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_base]"
                          name="cis_base" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_estilo_cod]"
                          dataType="wstr"
                          length="20"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_estilo_cod]"
                          name="cis_estilo_cod" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_sku_id]"
                          dataType="numeric"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_sku_id]"
                          name="cis_sku_id"
                          precision="13" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cantidadPiso]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cantidadPiso]"
                          name="cantidadPiso" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[fecha_conteo]"
                          dataType="dbTimeStamp"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[fecha_conteo]"
                          name="fecha_conteo" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[ErrorCode]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[ErrorCode]"
                          name="ErrorCode"
                          specialFlags="1" />
                        <outputColumn
                          refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[ErrorColumn]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de error de origen de OLE DB].Columns[ErrorColumn]"
                          name="ErrorColumn"
                          specialFlags="2" />
                      </outputColumns>
                      <externalMetadataColumns />
                    </output>
                  </outputs>
                </component>
              </components>
              <paths>
                <path
                  refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo.Paths[Salida de columna derivada]"
                  endId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Inputs[Entrada de búsqueda]"
                  name="Salida de columna derivada"
                  startId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada.Outputs[Salida de columna derivada]" />
                <path
                  refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo.Paths[Salida de entradas coincidentes de búsqueda]"
                  endId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]"
                  name="Salida de entradas coincidentes de búsqueda"
                  startId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Outputs[Salida de entradas coincidentes de búsqueda]" />
                <path
                  refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo.Paths[Salida de entradas no coincidentes de búsqueda]"
                  endId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]"
                  name="Salida de entradas no coincidentes de búsqueda"
                  startId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda.Outputs[Salida de entradas no coincidentes de búsqueda]" />
                <path
                  refId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo.Paths[Salida de origen de OLE DB]"
                  endId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada.Inputs[Entrada de columna derivada]"
                  name="Salida de origen de OLE DB"
                  startId="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU.Outputs[Salida de origen de OLE DB]" />
              </paths>
            </pipeline>
          </DTS:ObjectData>
        </DTS:Executable>
        <DTS:Executable
          DTS:refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;"
          DTS:CreationName="SSIS.Pipeline.3"
          DTS:Description="Tarea Flujo de datos"
          DTS:DTSID="{3f09c22c-6386-4ee3-a1a1-6df408b8ed83}"
          DTS:ExecutableType="SSIS.Pipeline.3"
          DTS:LocaleID="-1"
          DTS:ObjectName="04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;"
          DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
          <DTS:Variables />
          <DTS:ObjectData>
            <pipeline
              version="1">
              <components>
                <component
                  refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso"
                  componentClassID="DTSTransform.OLEDBCommand.3"
                  contactInfo="Comando de OLE DB;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;2"
                  description="Ejecuta una instrucción SQL para cada fila de un flujo de datos. Por ejemplo, se usa para llamar al procedimiento almacenado de configuración de nuevo empleado para cada fila de la tabla de nuevos empleados. Nota: la ejecución de una instrucción SQL para cada fila de un flujo de datos de gran tamaño puede tardar mucho tiempo."
                  name="Actualizar InventarioInicialPiso"
                  usesDispositions="true"
                  version="2">
                  <properties>
                    <property
                      dataType="System.Int32"
                      description="Número de segundos antes de que se agote el tiempo de espera de un comando. Un valor de 0 indica un tiempo de espera infinito."
                      name="CommandTimeout">0</property>
                    <property
                      dataType="System.String"
                      description="Comando SQL para ejecutar."
                      expressionType="Notify"
                      name="SqlCommand"
                      UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">DECLARE @base AS INT = ?  /* Id de la base */  
DECLARE @DocInventario as nvarchar(50) = ?  /* Documento de Inventario */
DECLARE @estilo as nvarchar(50) = ? /* codigo de estilo del producto */
DECLARE @sku_id AS DECIMAL(18,0) = ?  /* SKU ID del producto */
DECLARE @cantidad_piso AS INT = ?
DECLARE @fecha_conteo as datetime =?
DECLARE @fecha_proceso as datetime =?

UPDATE [ADUANA].[InventarioInicialPiso] WITH (ROWLOCK)
SET style_code = @estilo
,control_inventario = @DocInventario
,FechaUltimoConteo = @fecha_conteo
,CantidadPiso = @cantidad_piso
,LastUpdate = GETDATE()
WHERE base = @base
AND sku_id = @sku_id	 
AND control_inventario = @DocInventario
AND ISNULL(CantidadPiso,0)=0</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica la página de códigos de columna para utilizar cuando la información de página de códigos no está disponible en el origen de datos."
                      name="DefaultCodePage">1252</property>
                  </properties>
                  <connections>
                    <connection
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Connections[OleDbConnection]"
                      connectionManagerID="Package.ConnectionManagers[SISBASES]"
                      connectionManagerRefId="Package.ConnectionManagers[SISBASES]"
                      description="La conexión de tiempo de ejecución OLE DB usada para obtener acceso a la base de datos."
                      name="OleDbConnection" />
                  </connections>
                  <inputs>
                    <input
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]"
                      errorOrTruncationOperation="Ejecución de comando"
                      errorRowDisposition="FailComponent"
                      hasSideEffects="true"
                      name="Entrada de comando de OLE DB">
                      <inputColumns>
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_base]"
                          cachedDataType="i4"
                          cachedName="cis_base"
                          cachedSortKeyPosition="1"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_0]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_base]" />
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_control_inventario]"
                          cachedDataType="wstr"
                          cachedLength="20"
                          cachedName="cis_control_inventario"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_1]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_control_inventario]" />
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_estilo_cod]"
                          cachedDataType="wstr"
                          cachedLength="20"
                          cachedName="cis_estilo_cod"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_2]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_estilo_cod]" />
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_sku_id]"
                          cachedDataType="numeric"
                          cachedName="cis_sku_id"
                          cachedPrecision="13"
                          cachedSortKeyPosition="2"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_3]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]" />
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cantidadPiso]"
                          cachedDataType="i4"
                          cachedName="cantidadPiso"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_4]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cantidadPiso]" />
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[fecha_conteo]"
                          cachedDataType="dbTimeStamp"
                          cachedName="fecha_conteo"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_5]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[fecha_conteo]" />
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[fecha_proceso]"
                          cachedDataType="date"
                          cachedName="fecha_proceso"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_6]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada.Outputs[Salida de columna derivada].Columns[fecha_proceso]" />
                      </inputColumns>
                      <externalMetadataColumns
                        isUsed="True">
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_0]"
                          dataType="i4"
                          name="Param_0">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">81</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_1]"
                          dataType="wstr"
                          length="50"
                          name="Param_1">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">81</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_2]"
                          dataType="wstr"
                          length="50"
                          name="Param_2">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">193</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_3]"
                          dataType="numeric"
                          name="Param_3"
                          precision="18">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">65</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_4]"
                          dataType="i4"
                          name="Param_4">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">81</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_5]"
                          dataType="dbTimeStamp"
                          name="Param_5">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">65</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_6]"
                          dataType="dbTimeStamp"
                          name="Param_6">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">65</property>
                          </properties>
                        </externalMetadataColumn>
                      </externalMetadataColumns>
                    </input>
                  </inputs>
                  <outputs>
                    <output
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Outputs[Salida de comando de OLE DB]"
                      exclusionGroup="1"
                      name="Salida de comando de OLE DB"
                      synchronousInputId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]">
                      <externalMetadataColumns />
                    </output>
                    <output
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB]"
                      exclusionGroup="1"
                      isErrorOut="true"
                      name="Salida de error de comando de OLE DB"
                      synchronousInputId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorCode]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorCode]"
                          name="ErrorCode"
                          specialFlags="1" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorColumn]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorColumn]"
                          name="ErrorColumn"
                          specialFlags="2" />
                      </outputColumns>
                      <externalMetadataColumns />
                    </output>
                  </outputs>
                </component>
                <component
                  refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda"
                  componentClassID="DTSTransform.Lookup.3"
                  contactInfo="Búsqueda;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;6"
                  description="Combina columnas adicionales con el flujo de datos mediante la búsqueda de valores en una tabla. Por ejemplo, se combina la columna 'id. de empleado' con la tabla de empleados para obtener la 'fecha de contratación' y 'el nombre de empleado'. Se recomienda esta transformación cuando hay suficiente espacio en memoria para la tabla de búsqueda."
                  name="Busqueda"
                  usesDispositions="true"
                  version="6">
                  <properties>
                    <property
                      dataType="System.String"
                      description="Especifica la instrucción SQL que genera la tabla de búsqueda."
                      expressionType="Notify"
                      name="SqlCommand"
                      UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">select * from [ADUANA].[InventarioInicialPiso]</property>
                    <property
                      dataType="System.String"
                      description="Especifica una instrucción SQL que usa parámetros para generar la tabla de búsqueda."
                      expressionType="Notify"
                      name="SqlCommandParam"
                      UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">select * from (select * from [ADUANA].[InventarioInicialPiso]) [refTable]
where [refTable].[base] = ? and [refTable].[sku_id] = ?</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica el tipo de conexión utilizado para tener acceso al conjunto de datos de referencia."
                      name="ConnectionType"
                      typeConverter="LookupConnectionType">0</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica el tipo de caché de la tabla de búsqueda."
                      name="CacheType"
                      typeConverter="CacheType">0</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica cómo la transformación de búsquedas trata las filas sin entradas coincidentes en el conjunto de datos de referencia."
                      name="NoMatchBehavior"
                      typeConverter="LookupNoMatchBehavior">1</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica el porcentaje de la caché asignado a las filas sin entradas coincidentes en el conjunto de datos de referencia."
                      name="NoMatchCachePercentage">0</property>
                    <property
                      dataType="System.Int32"
                      description="Uso de memoria máximo para la caché de referencia en una plataforma de 32 bits."
                      name="MaxMemoryUsage">25</property>
                    <property
                      dataType="System.Int64"
                      description="Uso de memoria máximo para la caché de referencia en una plataforma de 64 bits."
                      name="MaxMemoryUsage64">25</property>
                    <property
                      dataType="System.String"
                      description="Indica si se debe hacer referencia a metadatos en formato XML."
                      name="ReferenceMetadataXml">&lt;referenceMetadata&gt;&lt;referenceColumns&gt;&lt;referenceColumn name="base" dataType="DT_I4" length="0" precision="0" scale="0" codePage="0"/&gt;&lt;referenceColumn name="sku_id" dataType="DT_NUMERIC" length="0" precision="13" scale="0" codePage="0"/&gt;&lt;referenceColumn name="style_code" dataType="DT_WSTR" length="20" precision="0" scale="0" codePage="0"/&gt;&lt;referenceColumn name="control_inventario" dataType="DT_WSTR" length="20" precision="0" scale="0" codePage="0"/&gt;&lt;referenceColumn name="CantidadPiso" dataType="DT_I4" length="0" precision="0" scale="0" codePage="0"/&gt;&lt;referenceColumn name="FechaUltimoConteo" dataType="DT_DBTIMESTAMP" length="0" precision="0" scale="0" codePage="0"/&gt;&lt;referenceColumn name="LastUpdate" dataType="DT_DBTIMESTAMP" length="0" precision="0" scale="0" codePage="0"/&gt;&lt;/referenceColumns&gt;&lt;/referenceMetadata&gt;</property>
                    <property
                      containsID="true"
                      dataType="System.String"
                      description="Especifica la lista de identificadores de linaje que están asignados a los parámetros que usa la instrucción SQL de la propiedad SQLCommand. Las entradas de la lista están separadas por puntos y comas."
                      name="ParameterMap">#{Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito "tipo_conteo ADUANAS"\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_base]};#{Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito "tipo_conteo ADUANAS"\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]};</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica la página de códigos de columna para utilizar cuando la información de página de códigos no está disponible en el origen de datos."
                      name="DefaultCodePage">1252</property>
                    <property
                      dataType="System.Boolean"
                      description="Determina si las claves duplicadas de los datos de referencia se deben tratar como errores cuando se usa el modo de caché."
                      name="TreatDuplicateKeysAsError">false</property>
                  </properties>
                  <connections>
                    <connection
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Connections[OleDbConnection]"
                      connectionManagerID="Package.ConnectionManagers[SISBASES]"
                      connectionManagerRefId="Package.ConnectionManagers[SISBASES]"
                      description="Administrador de conexiones utilizado para obtener acceso a los datos de búsqueda."
                      name="OleDbConnection" />
                  </connections>
                  <inputs>
                    <input
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Inputs[Entrada de búsqueda]"
                      name="Entrada de búsqueda">
                      <inputColumns>
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Inputs[Entrada de búsqueda].Columns[cis_base]"
                          cachedDataType="i4"
                          cachedName="cis_base"
                          cachedSortKeyPosition="1"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_base]">
                          <properties>
                            <property
                              dataType="System.String"
                              description="Especifica la columna de la tabla de referencia con la que se combina una columna."
                              name="JoinToReferenceColumn">base</property>
                            <property
                              dataType="System.Null"
                              description="Especifica la columna de la tabla de referencia de la que se copia una columna."
                              name="CopyFromReferenceColumn" />
                          </properties>
                        </inputColumn>
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Inputs[Entrada de búsqueda].Columns[cis_sku_id]"
                          cachedDataType="numeric"
                          cachedName="cis_sku_id"
                          cachedPrecision="13"
                          cachedSortKeyPosition="2"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]">
                          <properties>
                            <property
                              dataType="System.String"
                              description="Especifica la columna de la tabla de referencia con la que se combina una columna."
                              name="JoinToReferenceColumn">sku_id</property>
                            <property
                              dataType="System.Null"
                              description="Especifica la columna de la tabla de referencia de la que se copia una columna."
                              name="CopyFromReferenceColumn" />
                          </properties>
                        </inputColumn>
                      </inputColumns>
                      <externalMetadataColumns />
                    </input>
                  </inputs>
                  <outputs>
                    <output
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Outputs[Salida de entradas coincidentes de búsqueda]"
                      errorOrTruncationOperation="Búsqueda"
                      exclusionGroup="1"
                      name="Salida de entradas coincidentes de búsqueda"
                      synchronousInputId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Inputs[Entrada de búsqueda]">
                      <externalMetadataColumns />
                    </output>
                    <output
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Outputs[Salida de entradas no coincidentes de búsqueda]"
                      description="Salida de búsqueda que trata las filas sin entradas coincidentes en el conjunto de datos de referencia. Utilice esta salida cuando la propiedad NoMatchBehavior esté establecida en 'Enviar las filas sin entradas coincidentes a la salida de entradas no coincidentes'."
                      exclusionGroup="1"
                      name="Salida de entradas no coincidentes de búsqueda"
                      synchronousInputId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Inputs[Entrada de búsqueda]">
                      <externalMetadataColumns />
                    </output>
                    <output
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Outputs[Salida de error de búsqueda]"
                      exclusionGroup="1"
                      isErrorOut="true"
                      name="Salida de error de búsqueda"
                      synchronousInputId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Inputs[Entrada de búsqueda]">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Outputs[Salida de error de búsqueda].Columns[ErrorCode]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Outputs[Salida de error de búsqueda].Columns[ErrorCode]"
                          name="ErrorCode"
                          specialFlags="1" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Outputs[Salida de error de búsqueda].Columns[ErrorColumn]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Outputs[Salida de error de búsqueda].Columns[ErrorColumn]"
                          name="ErrorColumn"
                          specialFlags="2" />
                      </outputColumns>
                      <externalMetadataColumns />
                    </output>
                  </outputs>
                </component>
                <component
                  refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU"
                  componentClassID="DTSAdapter.OLEDBSource.3"
                  contactInfo="Origen de OLE DB;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;7"
                  description="Origen de OLE DB"
                  name="Calcular total piso en segun conteo en deposito por SKU"
                  usesDispositions="true"
                  version="7">
                  <properties>
                    <property
                      dataType="System.Int32"
                      description="Número de segundos antes de que se agote el tiempo de espera de un comando. Un valor de 0 indica un tiempo de espera infinito."
                      name="CommandTimeout">0</property>
                    <property
                      dataType="System.String"
                      description="Especifica el nombre del objeto de base de datos usado para abrir un conjunto de filas."
                      name="OpenRowset"></property>
                    <property
                      dataType="System.String"
                      description="Especifica la variable que contiene el nombre del objeto de base de datos usado para abrir un conjunto de filas."
                      name="OpenRowsetVariable"></property>
                    <property
                      dataType="System.String"
                      description="Comando SQL para ejecutar."
                      name="SqlCommand"
                      UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">DECLARE @base AS INT = ?  /* Id de la base */  
DECLARE @DocInventario as nvarchar(20) = ?  /* Documento de Inventario */
DEClARE @fecha_conteo as datetime = ? /* fecha_conteo */

DECLARE @v_tipo_conteo int = ? /* Tipo de Conteo 1=CICLICO 2=DIARIO 3=ADUANAS */; 


SELECT cis_base 
,cis_sku_id 
,cis_estilo_cod 
,cis_control_inventario 
,getdate()as fecha_creacion
,(existencia_teorico -  ConteoDepo) as cantidadPiso 
,@fecha_conteo AS fecha_conteo	
from (
SELECT t1.cis_base
,t1.cis_sku_id, 
t1.cis_estilo_cod
,t1.cis_control_inventario
,ISNULL(t1.[cis_inventario_teorico],0) as existencia_teorico
,isnull(t2.ConteoDepo,0) as ConteoDepo 		
FROM (
SELECT cis_control_inventario
,cis_base
,cis_sku_id
,cis_estilo_cod			
, MIN(cis_inventario_teorico) AS [cis_inventario_teorico]
FROM [dbo].[Control_Inventario_Sku] WITH (NOLOCK) /* articulos en la foto */
WHERE cis_control_inventario= @DocInventario  
AND cis_base=@base
GROUP BY cis_base
,cis_sku_id
,cis_estilo_cod	
,cis_control_inventario
) AS t1
LEFT outer join( SELECT Base,control_inventario as control_inventario,sku_id,sum(Cantidad) as ConteoDepo 
FROM [dbo].[InventarioDeposito] with (nolock) 
where base = @base
and marcado = 1 
and control_inventario = @DocInventario  											
and estado = 2
group by sku_id,base,control_inventario
) as t2
on  t2.Base = t1.cis_base 
and  t2.sku_id = t1.cis_sku_id 
and  t2.control_inventario = t1.cis_control_inventario 
Where t1.cis_control_inventario =  @DocInventario  
and t1.cis_base = @base
) as t0
where @v_tipo_conteo = 3  /* ADUANAS */ 
ORDER BY cis_base, cis_sku_id</property>
                    <property
                      dataType="System.String"
                      description="Variable que contiene el comando SQL para ejecutar."
                      name="SqlCommandVariable"></property>
                    <property
                      dataType="System.Int32"
                      description="Especifica la página de códigos de columna para utilizar cuando la información de página de códigos no está disponible en el origen de datos."
                      name="DefaultCodePage">1252</property>
                    <property
                      dataType="System.Boolean"
                      description="Fuerza el uso del valor de la propiedad DefaultCodePage al describir datos de caracteres."
                      name="AlwaysUseDefaultCodePage">false</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica el modo utilizado para obtener acceso a la base de datos."
                      name="AccessMode"
                      typeConverter="AccessMode">2</property>
                    <property
                      dataType="System.String"
                      description="Asignaciones entre los parámetros del comando SQL y las variables."
                      name="ParameterMapping">"Parámetro0:Input",{7AB88085-C920-41CF-820C-CABFBA0007FD};"Parámetro1:Input",{EF6FFE30-BCCE-4F6C-AE39-6F1AAC42EDD0};"Parámetro2:Input",{688606D9-5DB2-461E-927F-DC87BA697515};"Parámetro3:Input",{025DB018-22FF-42CB-8542-7F4CF1ED596F};</property>
                  </properties>
                  <connections>
                    <connection
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Connections[OleDbConnection]"
                      connectionManagerID="Package.ConnectionManagers[PA_TOVA_SIB_Inventarios]"
                      connectionManagerRefId="Package.ConnectionManagers[PA_TOVA_SIB_Inventarios]"
                      description="La conexión de tiempo de ejecución OLE DB usada para obtener acceso a la base de datos."
                      name="OleDbConnection" />
                  </connections>
                  <outputs>
                    <output
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB]"
                      isSorted="true"
                      name="Salida de origen de OLE DB">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[fecha_conteo]"
                          dataType="dbTimeStamp"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[fecha_conteo]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[fecha_conteo]"
                          name="fecha_conteo"
                          truncationRowDisposition="FailComponent" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[fecha_creacion]"
                          dataType="dbTimeStamp"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[fecha_creacion]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[fecha_creacion]"
                          name="fecha_creacion"
                          truncationRowDisposition="FailComponent" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_base]"
                          dataType="i4"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_base]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_base]"
                          name="cis_base"
                          sortKeyPosition="1"
                          truncationRowDisposition="FailComponent" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]"
                          dataType="numeric"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_sku_id]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]"
                          name="cis_sku_id"
                          precision="13"
                          sortKeyPosition="2"
                          truncationRowDisposition="FailComponent" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_estilo_cod]"
                          dataType="wstr"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_estilo_cod]"
                          length="20"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_estilo_cod]"
                          name="cis_estilo_cod"
                          truncationRowDisposition="FailComponent" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_control_inventario]"
                          dataType="wstr"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_control_inventario]"
                          length="20"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_control_inventario]"
                          name="cis_control_inventario"
                          truncationRowDisposition="FailComponent" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cantidadPiso]"
                          dataType="i4"
                          errorOrTruncationOperation="Conversión"
                          errorRowDisposition="FailComponent"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cantidadPiso]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cantidadPiso]"
                          name="cantidadPiso"
                          truncationRowDisposition="FailComponent" />
                      </outputColumns>
                      <externalMetadataColumns
                        isUsed="True">
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[fecha_conteo]"
                          dataType="dbTimeStamp"
                          name="fecha_conteo" />
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[fecha_creacion]"
                          dataType="dbTimeStamp"
                          name="fecha_creacion" />
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_base]"
                          dataType="i4"
                          name="cis_base" />
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_sku_id]"
                          dataType="numeric"
                          name="cis_sku_id"
                          precision="13" />
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_estilo_cod]"
                          dataType="wstr"
                          length="20"
                          name="cis_estilo_cod" />
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cis_control_inventario]"
                          dataType="wstr"
                          length="20"
                          name="cis_control_inventario" />
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].ExternalColumns[cantidadPiso]"
                          dataType="i4"
                          name="cantidadPiso" />
                      </externalMetadataColumns>
                    </output>
                    <output
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB]"
                      isErrorOut="true"
                      name="Salida de error de origen de OLE DB">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_base]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_base]"
                          name="cis_base" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_sku_id]"
                          dataType="numeric"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_sku_id]"
                          name="cis_sku_id"
                          precision="13" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_estilo_cod]"
                          dataType="wstr"
                          length="20"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_estilo_cod]"
                          name="cis_estilo_cod" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_control_inventario]"
                          dataType="wstr"
                          length="20"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cis_control_inventario]"
                          name="cis_control_inventario" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[fecha_creacion]"
                          dataType="dbTimeStamp"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[fecha_creacion]"
                          name="fecha_creacion" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cantidadPiso]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[cantidadPiso]"
                          name="cantidadPiso" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[fecha_conteo]"
                          dataType="dbTimeStamp"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[fecha_conteo]"
                          name="fecha_conteo" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[ErrorCode]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[ErrorCode]"
                          name="ErrorCode"
                          specialFlags="1" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[ErrorColumn]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de error de origen de OLE DB].Columns[ErrorColumn]"
                          name="ErrorColumn"
                          specialFlags="2" />
                      </outputColumns>
                      <externalMetadataColumns />
                    </output>
                  </outputs>
                </component>
                <component
                  refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada"
                  componentClassID="DTSTransform.DerivedColumn.3"
                  contactInfo="Columna derivada;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;0"
                  description="Crea nuevos valores de columna aplicando expresiones a las columnas de entrada de la transformación. Crea nuevas columnas o sobrescribe las columnas existentes. Por ejemplo, se concatenan los valores de las columnas 'nombre' y 'apellidos' para crear una columna 'nombre completo'."
                  name="Columna derivada"
                  usesDispositions="true">
                  <inputs>
                    <input
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada.Inputs[Entrada de columna derivada]"
                      description="Entrada en la transformación Columna derivada"
                      name="Entrada de columna derivada">
                      <externalMetadataColumns />
                    </input>
                  </inputs>
                  <outputs>
                    <output
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada.Outputs[Salida de columna derivada]"
                      description="Salida predeterminada de la transformación Columna derivada"
                      exclusionGroup="1"
                      name="Salida de columna derivada"
                      synchronousInputId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada.Inputs[Entrada de columna derivada]">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada.Outputs[Salida de columna derivada].Columns[fecha_proceso]"
                          dataType="date"
                          errorOrTruncationOperation="Cálculo"
                          errorRowDisposition="FailComponent"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada.Outputs[Salida de columna derivada].Columns[fecha_proceso]"
                          name="fecha_proceso"
                          truncationRowDisposition="FailComponent">
                          <properties>
                            <property
                              containsID="true"
                              dataType="System.String"
                              description="Expresión de columna derivada"
                              name="Expression">@[User::fInicio_Proceso]</property>
                            <property
                              containsID="true"
                              dataType="System.String"
                              description="Expresión descriptiva de columna derivada"
                              expressionType="Notify"
                              name="FriendlyExpression">@[User::fInicio_Proceso]</property>
                          </properties>
                        </outputColumn>
                      </outputColumns>
                      <externalMetadataColumns />
                    </output>
                    <output
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada.Outputs[Salida de error de columna derivada]"
                      description="Salida de error de la transformación Columna derivada"
                      exclusionGroup="1"
                      isErrorOut="true"
                      name="Salida de error de columna derivada"
                      synchronousInputId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada.Inputs[Entrada de columna derivada]">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada.Outputs[Salida de error de columna derivada].Columns[ErrorCode]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada.Outputs[Salida de error de columna derivada].Columns[ErrorCode]"
                          name="ErrorCode"
                          specialFlags="1" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada.Outputs[Salida de error de columna derivada].Columns[ErrorColumn]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada.Outputs[Salida de error de columna derivada].Columns[ErrorColumn]"
                          name="ErrorColumn"
                          specialFlags="2" />
                      </outputColumns>
                      <externalMetadataColumns />
                    </output>
                  </outputs>
                </component>
                <component
                  refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso"
                  componentClassID="DTSTransform.OLEDBCommand.3"
                  contactInfo="Comando de OLE DB;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; Todos los derechos reservados; http://www.microsoft.com/sql/support;2"
                  description="Ejecuta una instrucción SQL para cada fila de un flujo de datos. Por ejemplo, se usa para llamar al procedimiento almacenado de configuración de nuevo empleado para cada fila de la tabla de nuevos empleados. Nota: la ejecución de una instrucción SQL para cada fila de un flujo de datos de gran tamaño puede tardar mucho tiempo."
                  name="Insertar InventarioInicialPiso"
                  usesDispositions="true"
                  version="2">
                  <properties>
                    <property
                      dataType="System.Int32"
                      description="Número de segundos antes de que se agote el tiempo de espera de un comando. Un valor de 0 indica un tiempo de espera infinito."
                      name="CommandTimeout">0</property>
                    <property
                      dataType="System.String"
                      description="Comando SQL para ejecutar."
                      expressionType="Notify"
                      name="SqlCommand"
                      UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">DECLARE @base AS INT = ?  /* Id de la base */  
DECLARE @DocInventario as nvarchar(50) = ?  /* Documento de Inventario */
DECLARE @estilo as nvarchar(50) = ? /* codigo de estilo del producto */
DECLARE @sku_id AS DECIMAL(18,0) = ?  /* SKU ID del producto */
DECLARE @cantidad_piso AS INT = ?
DECLARE @fecha_conteo as datetime =?
DECLARE @fecha_proceso as datetime =?

INSERT INTO [ADUANA].[InventarioInicialPiso] 
([base],[sku_id],[style_code],[control_inventario],[CantidadPiso],[FechaUltimoConteo], LastUpdate)
select @base as base, @sku_id as sku_id, @estilo as cod_estilo, @DocInventario as control_inventario, 
isnull( @cantidad_piso,0) as cantidadPiso, @fecha_conteo as FechaUltimoConteo , GETDATE() as LastUpdate
where not exists (select top 1 1  
from [ADUANA].[InventarioInicialPiso] p 
where p.base = @base and p.sku_id = @sku_id);	</property>
                    <property
                      dataType="System.Int32"
                      description="Especifica la página de códigos de columna para utilizar cuando la información de página de códigos no está disponible en el origen de datos."
                      name="DefaultCodePage">1252</property>
                  </properties>
                  <connections>
                    <connection
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Connections[OleDbConnection]"
                      connectionManagerID="Package.ConnectionManagers[SISBASES]"
                      connectionManagerRefId="Package.ConnectionManagers[SISBASES]"
                      description="La conexión de tiempo de ejecución OLE DB usada para obtener acceso a la base de datos."
                      name="OleDbConnection" />
                  </connections>
                  <inputs>
                    <input
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]"
                      errorOrTruncationOperation="Ejecución de comando"
                      errorRowDisposition="FailComponent"
                      hasSideEffects="true"
                      name="Entrada de comando de OLE DB">
                      <inputColumns>
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_base]"
                          cachedDataType="i4"
                          cachedName="cis_base"
                          cachedSortKeyPosition="1"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_0]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_base]" />
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_control_inventario]"
                          cachedDataType="wstr"
                          cachedLength="20"
                          cachedName="cis_control_inventario"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_1]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_control_inventario]" />
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_estilo_cod]"
                          cachedDataType="wstr"
                          cachedLength="20"
                          cachedName="cis_estilo_cod"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_2]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_estilo_cod]" />
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cis_sku_id]"
                          cachedDataType="numeric"
                          cachedName="cis_sku_id"
                          cachedPrecision="13"
                          cachedSortKeyPosition="2"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_3]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cis_sku_id]" />
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[cantidadPiso]"
                          cachedDataType="i4"
                          cachedName="cantidadPiso"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_4]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[cantidadPiso]" />
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[fecha_conteo]"
                          cachedDataType="dbTimeStamp"
                          cachedName="fecha_conteo"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_5]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB].Columns[fecha_conteo]" />
                        <inputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].Columns[fecha_proceso]"
                          cachedDataType="date"
                          cachedName="fecha_proceso"
                          externalMetadataColumnId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_6]"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada.Outputs[Salida de columna derivada].Columns[fecha_proceso]" />
                      </inputColumns>
                      <externalMetadataColumns
                        isUsed="True">
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_0]"
                          dataType="i4"
                          name="Param_0">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">81</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_1]"
                          dataType="wstr"
                          length="50"
                          name="Param_1">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">81</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_2]"
                          dataType="wstr"
                          length="50"
                          name="Param_2">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">65</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_3]"
                          dataType="numeric"
                          name="Param_3"
                          precision="18">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">65</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_4]"
                          dataType="i4"
                          name="Param_4">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">81</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_5]"
                          dataType="dbTimeStamp"
                          name="Param_5">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">65</property>
                          </properties>
                        </externalMetadataColumn>
                        <externalMetadataColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB].ExternalColumns[Param_6]"
                          dataType="dbTimeStamp"
                          name="Param_6">
                          <properties>
                            <property
                              dataType="System.Int32"
                              description="Información de parámetros. Coincide con los valores de DBPARAMFLAGSENUM de OLE DB."
                              name="DBParamInfoFlags">65</property>
                          </properties>
                        </externalMetadataColumn>
                      </externalMetadataColumns>
                    </input>
                  </inputs>
                  <outputs>
                    <output
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Outputs[Salida de comando de OLE DB]"
                      exclusionGroup="1"
                      name="Salida de comando de OLE DB"
                      synchronousInputId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]">
                      <externalMetadataColumns />
                    </output>
                    <output
                      refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB]"
                      exclusionGroup="1"
                      isErrorOut="true"
                      name="Salida de error de comando de OLE DB"
                      synchronousInputId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]">
                      <outputColumns>
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorCode]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorCode]"
                          name="ErrorCode"
                          specialFlags="1" />
                        <outputColumn
                          refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorColumn]"
                          dataType="i4"
                          lineageId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Outputs[Salida de error de comando de OLE DB].Columns[ErrorColumn]"
                          name="ErrorColumn"
                          specialFlags="2" />
                      </outputColumns>
                      <externalMetadataColumns />
                    </output>
                  </outputs>
                </component>
              </components>
              <paths>
                <path
                  refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;.Paths[Salida de columna derivada]"
                  endId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Inputs[Entrada de búsqueda]"
                  name="Salida de columna derivada"
                  startId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada.Outputs[Salida de columna derivada]" />
                <path
                  refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;.Paths[Salida de entradas coincidentes de búsqueda]"
                  endId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]"
                  name="Salida de entradas coincidentes de búsqueda"
                  startId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Outputs[Salida de entradas coincidentes de búsqueda]" />
                <path
                  refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;.Paths[Salida de entradas no coincidentes de búsqueda]"
                  endId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso.Inputs[Entrada de comando de OLE DB]"
                  name="Salida de entradas no coincidentes de búsqueda"
                  startId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda.Outputs[Salida de entradas no coincidentes de búsqueda]" />
                <path
                  refId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;.Paths[Salida de origen de OLE DB]"
                  endId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada.Inputs[Entrada de columna derivada]"
                  name="Salida de origen de OLE DB"
                  startId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU.Outputs[Salida de origen de OLE DB]" />
              </paths>
            </pipeline>
          </DTS:ObjectData>
        </DTS:Executable>
        <DTS:Executable
          DTS:refId="Package\Procesar documentos\Obtener tipo_conteo y fecha_conteo"
          DTS:CreationName="STOCK:SEQUENCE"
          DTS:Description="Contenedor de secuencias"
          DTS:DTSID="{AB46FD9F-9338-4988-82F5-3AD8793118FA}"
          DTS:ExecutableType="STOCK:SEQUENCE"
          DTS:LocaleID="-1"
          DTS:ObjectName="Obtener tipo_conteo y fecha_conteo">
          <DTS:Variables />
          <DTS:Executables>
            <DTS:Executable
              DTS:refId="Package\Procesar documentos\Obtener tipo_conteo y fecha_conteo\Obtener  fecha_conteo"
              DTS:CreationName="Microsoft.SqlServer.Dts.Tasks.ExecuteSQLTask.ExecuteSQLTask, Microsoft.SqlServer.SQLTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
              DTS:Description="Tarea Ejecutar SQL"
              DTS:DTSID="{a13f0a31-6647-42d9-b354-dfceaff93fbd}"
              DTS:ExecutableType="Microsoft.SqlServer.Dts.Tasks.ExecuteSQLTask.ExecuteSQLTask, Microsoft.SqlServer.SQLTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
              DTS:LocaleID="-1"
              DTS:ObjectName="Obtener  fecha_conteo"
              DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
              DTS:ThreadHint="0">
              <DTS:Variables />
              <DTS:ObjectData>
                <SQLTask:SqlTaskData
                  SQLTask:Connection="{7A67D429-C556-4D16-A56B-3A866BE01CD9}"
                  SQLTask:SqlStatementSource="DECLARE @v_iIdBase AS INT = ?  /* Id de la base */  &#xA;DECLARE @v_DocInventario as nvarchar(20) = ?  /* Documento de Inventario */ &#xA;&#xA; SELECT top 1 DATEADD(DAY, 1, CAST(s.cis_fecha_creacion AS DATE)) as fecha_conteo&#xA; FROM [PA_TOVA_SIB_Inventarios].[dbo].[Control_Inventario_Sku] s with (nolock) &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xA; WHERE s.cis_control_inventario = @v_DocInventario &#xA; and cis_base = @v_iIdBase &#xA; order by cis_control_inventario, cis_base, cis_fecha_creacion"
                  SQLTask:ResultType="ResultSetType_SingleRow" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
                  <SQLTask:ResultBinding
                    SQLTask:ResultName="fecha_conteo"
                    SQLTask:DtsVariableName="User::fecha_conteo" />
                  <SQLTask:ParameterBinding
                    SQLTask:ParameterName="@v_iIdBase"
                    SQLTask:DtsVariableName="User::IdBase"
                    SQLTask:ParameterDirection="Input"
                    SQLTask:DataType="3"
                    SQLTask:ParameterSize="-1" />
                  <SQLTask:ParameterBinding
                    SQLTask:ParameterName="@v_DocInventario"
                    SQLTask:DtsVariableName="User::DocInventario"
                    SQLTask:ParameterDirection="Input"
                    SQLTask:DataType="130"
                    SQLTask:ParameterSize="-1" />
                </SQLTask:SqlTaskData>
              </DTS:ObjectData>
            </DTS:Executable>
            <DTS:Executable
              DTS:refId="Package\Procesar documentos\Obtener tipo_conteo y fecha_conteo\Obtener  tipo_conteo"
              DTS:CreationName="Microsoft.SqlServer.Dts.Tasks.ExecuteSQLTask.ExecuteSQLTask, Microsoft.SqlServer.SQLTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
              DTS:Description="Tarea Ejecutar SQL"
              DTS:DTSID="{AE538F72-0782-4E35-95D8-5391C958A738}"
              DTS:ExecutableType="Microsoft.SqlServer.Dts.Tasks.ExecuteSQLTask.ExecuteSQLTask, Microsoft.SqlServer.SQLTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
              DTS:LocaleID="-1"
              DTS:ObjectName="Obtener  tipo_conteo"
              DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
              DTS:ThreadHint="1">
              <DTS:Variables />
              <DTS:ObjectData>
                <SQLTask:SqlTaskData
                  SQLTask:Connection="{7A67D429-C556-4D16-A56B-3A866BE01CD9}"
                  SQLTask:SqlStatementSource="DECLARE @v_iIdBase AS INT = ?  /* Id de la base */  &#xA;DECLARE @v_DocInventario as nvarchar(20) = ?  /* Documento de Inventario */&#xA;&#xA;&#xA;Select  isnull ((SELECT [id_tipo_conteo] FROM [dbo].[Control_Inventario_Documentos] WHERE [base]=@v_iIdBase and [Control_Inventario] = @v_DocInventario),0) as tipo_conteo"
                  SQLTask:ResultType="ResultSetType_SingleRow" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
                  <SQLTask:ResultBinding
                    SQLTask:ResultName="tipo_conteo"
                    SQLTask:DtsVariableName="User::tipo_conteo" />
                  <SQLTask:ParameterBinding
                    SQLTask:ParameterName="@v_iIdBase"
                    SQLTask:DtsVariableName="User::IdBase"
                    SQLTask:ParameterDirection="Input"
                    SQLTask:DataType="3"
                    SQLTask:ParameterSize="-1" />
                  <SQLTask:ParameterBinding
                    SQLTask:ParameterName="@v_DocInventario"
                    SQLTask:DtsVariableName="User::DocInventario"
                    SQLTask:ParameterDirection="Input"
                    SQLTask:DataType="130"
                    SQLTask:ParameterSize="-1" />
                </SQLTask:SqlTaskData>
              </DTS:ObjectData>
            </DTS:Executable>
          </DTS:Executables>
        </DTS:Executable>
      </DTS:Executables>
      <DTS:PrecedenceConstraints>
        <DTS:PrecedenceConstraint
          DTS:refId="Package\Procesar documentos.PrecedenceConstraints[NO_FechaConteo]"
          DTS:CreationName=""
          DTS:Description="NO - Depurar Ubicaciones (FechaConteo &lt;&gt; FechaAyer)"
          DTS:DTSID="{22C5EA9C-ECB2-446E-BB7D-BBF3335AFC2D}"
          DTS:EvalOp="3"
          DTS:Expression="( (DT_DATE)(DT_DBDATE)(@[User::fecha_ayer]) != (DT_DATE)(DT_DBDATE)(@[User::fecha_conteo]))"
          DTS:From="Package\Procesar documentos\Obtener tipo_conteo y fecha_conteo"
          DTS:LogicalAnd="True"
          DTS:ObjectName="NO_FechaConteo"
          DTS:To="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*" />
        <DTS:PrecedenceConstraint
          DTS:refId="Package\Procesar documentos.PrecedenceConstraints[Restricción 1]"
          DTS:CreationName=""
          DTS:DTSID="{9BC2F768-E852-4CCC-889E-97D058E9DC85}"
          DTS:From="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo"
          DTS:LogicalAnd="True"
          DTS:ObjectName="Restricción 1"
          DTS:To="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*" />
        <DTS:PrecedenceConstraint
          DTS:refId="Package\Procesar documentos.PrecedenceConstraints[Restricción 2]"
          DTS:CreationName=""
          DTS:DTSID="{2F479D24-93A2-425B-ABC3-C5762358D93B}"
          DTS:From="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*"
          DTS:LogicalAnd="True"
          DTS:ObjectName="Restricción 2"
          DTS:To="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo" />
        <DTS:PrecedenceConstraint
          DTS:refId="Package\Procesar documentos.PrecedenceConstraints[Restricción 3]"
          DTS:CreationName=""
          DTS:DTSID="{595BA7C5-325C-45E6-A7AF-B0C6712DCDDA}"
          DTS:From="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo"
          DTS:LogicalAnd="True"
          DTS:ObjectName="Restricción 3"
          DTS:To="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;" />
        <DTS:PrecedenceConstraint
          DTS:refId="Package\Procesar documentos.PrecedenceConstraints[SI_FechaConteo]"
          DTS:CreationName=""
          DTS:Description="SI - Depurar Ubicaciones (FechaConteo = FechaAyer)"
          DTS:DTSID="{C8D32C74-C07A-4A57-B507-802775F3AD2A}"
          DTS:EvalOp="3"
          DTS:Expression="((DT_DATE)(DT_DBDATE) (@[User::fecha_ayer]) == (DT_DATE)(DT_DBDATE) (@[User::fecha_conteo]))"
          DTS:From="Package\Procesar documentos\Obtener tipo_conteo y fecha_conteo"
          DTS:LogicalAnd="True"
          DTS:ObjectName="SI_FechaConteo"
          DTS:To="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo" />
      </DTS:PrecedenceConstraints>
      <DTS:ForEachVariableMappings>
        <DTS:ForEachVariableMapping
          DTS:CreationName=""
          DTS:DTSID="{069A0F9B-0967-432D-9DB8-50BFFE091F92}"
          DTS:ObjectName="{069A0F9B-0967-432D-9DB8-50BFFE091F92}"
          DTS:ValueIndex="0"
          DTS:VariableName="User::DocInventario" />
        <DTS:ForEachVariableMapping
          DTS:CreationName=""
          DTS:DTSID="{18127204-A980-4500-8793-B9769BC88E8B}"
          DTS:ObjectName="{18127204-A980-4500-8793-B9769BC88E8B}"
          DTS:ValueIndex="1"
          DTS:VariableName="User::IdBase" />
        <DTS:ForEachVariableMapping
          DTS:CreationName=""
          DTS:DTSID="{5B0BADA9-A28E-4F5B-87B2-5DFE8E7CBCF8}"
          DTS:ObjectName="{5B0BADA9-A28E-4F5B-87B2-5DFE8E7CBCF8}"
          DTS:ValueIndex="2"
          DTS:VariableName="User::fecha_creacion" />
        <DTS:ForEachVariableMapping
          DTS:CreationName=""
          DTS:DTSID="{17949023-3522-4622-A373-4FD9BF29C963}"
          DTS:ObjectName="{17949023-3522-4622-A373-4FD9BF29C963}"
          DTS:ValueIndex="3"
          DTS:VariableName="User::fecha_conteo" />
      </DTS:ForEachVariableMappings>
    </DTS:Executable>
  </DTS:Executables>
  <DTS:PrecedenceConstraints>
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Restricción]"
      DTS:CreationName=""
      DTS:DTSID="{2DC49653-7ADC-4A8C-8EDA-72B93C735F20}"
      DTS:From="Package\Obtener Fecha INICIO Proceso"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Restricción"
      DTS:To="Package\Obtener Fecha AYER" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Restricción 1]"
      DTS:CreationName=""
      DTS:DTSID="{F31D5BB6-969B-4BCD-A83A-FA9DF482C56E}"
      DTS:From="Package\Obtener Fecha AYER"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Restricción 1"
      DTS:To="Package\Obtener documentos a procesar" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Restricción 2]"
      DTS:CreationName=""
      DTS:DTSID="{F5675082-4A58-484A-9AB0-51182B79DD41}"
      DTS:From="Package\Obtener documentos a procesar"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Restricción 2"
      DTS:To="Package\Procesar documentos" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Restricción 3]"
      DTS:CreationName=""
      DTS:DTSID="{B534A75E-8B09-425C-94A4-8BC9E1C793E8}"
      DTS:From="Package\Procesar documentos"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Restricción 3"
      DTS:To="Package\Obtener Fecha FIN Proceso" />
  </DTS:PrecedenceConstraints>
  <DTS:DesignTimeProperties><![CDATA[<?xml version="1.0"?>
<!--This CDATA section contains the layout information of the package. The section includes information such as (x,y) coordinates, width, and height.-->
<!--If you manually edit this section and make a mistake, you can delete it. -->
<!--The package will still be able to load normally but the previous layout information will be lost and the designer will automatically re-arrange the elements on the design surface.-->
<Objects
  Version="sql11">
  <!--Each node below will contain properties that do not affect runtime behavior.-->
  <Package
    design-time-name="Package">
    <LayoutInfo>
      <GraphLayout
        Capacity="32" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="236,42"
          Id="Package\Obtener documentos a procesar"
          TopLeft="192.5,209.5" />
        <NodeLayout
          Size="185,42"
          Id="Package\Obtener Fecha AYER"
          TopLeft="221,106.5" />
        <NodeLayout
          Size="216,42"
          Id="Package\Obtener Fecha FIN Proceso"
          TopLeft="193.5,1246.5" />
        <NodeLayout
          Size="232,42"
          Id="Package\Obtener Fecha INICIO Proceso"
          TopLeft="198.5,7.5" />
        <NodeLayout
          Size="271,42"
          Id="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes"
          TopLeft="9.5,5.5" />
        <NodeLayout
          Size="279,42"
          Id="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo"
          TopLeft="5.50000000000003,107.5" />
        <EdgeLayout
          Id="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo.PrecedenceConstraints[Restricción]"
          TopLeft="145,47.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,60"
              Start="0,0"
              End="0,52.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,52.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <ContainerLayout
          HeaderHeight="43"
          IsExpanded="True"
          PanelSize="290,204"
          Size="290,248"
          Id="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo"
          TopLeft="5.50000000000006,211.5" />
        <NodeLayout
          Size="360,42"
          Id="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*"
          TopLeft="221,522.5" />
        <NodeLayout
          Size="333,42"
          Id="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo"
          TopLeft="209,630.5" />
        <NodeLayout
          Size="434,42"
          Id="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;"
          TopLeft="164.5,732.5" />
        <NodeLayout
          Size="191,42"
          Id="Package\Procesar documentos\Obtener tipo_conteo y fecha_conteo\Obtener  fecha_conteo"
          TopLeft="5.5,5.5" />
        <NodeLayout
          Size="181,42"
          Id="Package\Procesar documentos\Obtener tipo_conteo y fecha_conteo\Obtener  tipo_conteo"
          TopLeft="257.5,5.5" />
        <ContainerLayout
          HeaderHeight="43"
          IsExpanded="True"
          PanelSize="444,102"
          Size="444,146"
          Id="Package\Procesar documentos\Obtener tipo_conteo y fecha_conteo"
          TopLeft="134.5,5.5" />
        <EdgeLayout
          Id="Package\Procesar documentos.PrecedenceConstraints[SI_FechaConteo]"
          TopLeft="283.833333333333,151.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-133.333333333333,60"
              Start="0,0"
              End="-133.333333333333,52.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,20.1292639138241" />
                  <mssgle:CubicBezierSegment
                    Point1="0,20.1292639138241"
                    Point2="0,24.1292639138241"
                    Point3="-4,24.1292639138241" />
                  <mssgle:LineSegment
                    End="-129.333333333333,24.1292639138241" />
                  <mssgle:CubicBezierSegment
                    Point1="-129.333333333333,24.1292639138241"
                    Point2="-133.333333333333,24.1292639138241"
                    Point3="-133.333333333333,28.1292639138241" />
                  <mssgle:LineSegment
                    End="-133.333333333333,52.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="-194.315390625,29.1292639138241,255.297447916667,16"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package\Procesar documentos.PrecedenceConstraints[Restricción 1]"
          TopLeft="150.5,459.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="191.833333333333,63"
              Start="0,0"
              End="191.833333333333,55.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,33.6327433628319" />
                  <mssgle:CubicBezierSegment
                    Point1="0,33.6327433628319"
                    Point2="0,37.6327433628319"
                    Point3="4,37.6327433628319" />
                  <mssgle:LineSegment
                    End="187.833333333333,37.6327433628319" />
                  <mssgle:CubicBezierSegment
                    Point1="187.833333333333,37.6327433628319"
                    Point2="191.833333333333,37.6327433628319"
                    Point3="191.833333333333,41.6327433628319" />
                  <mssgle:LineSegment
                    End="191.833333333333,55.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package\Procesar documentos.PrecedenceConstraints[Restricción 2]"
          TopLeft="401,564.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-25.4999999999999,66"
              Start="0,0"
              End="-25.4999999999999,58.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,29" />
                  <mssgle:CubicBezierSegment
                    Point1="0,29"
                    Point2="0,33"
                    Point3="-4,33" />
                  <mssgle:LineSegment
                    End="-21.4999999999999,33" />
                  <mssgle:CubicBezierSegment
                    Point1="-21.4999999999999,33"
                    Point2="-25.4999999999999,33"
                    Point3="-25.4999999999999,37" />
                  <mssgle:LineSegment
                    End="-25.4999999999999,58.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package\Procesar documentos.PrecedenceConstraints[Restricción 3]"
          TopLeft="378.5,672.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,60"
              Start="0,0"
              End="0,52.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,52.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package\Procesar documentos.PrecedenceConstraints[NO_FechaConteo]"
          TopLeft="429.166666666667,151.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="30.5000000000001,371"
              Start="0,0"
              End="30.5000000000001,363.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,181.306971904266" />
                  <mssgle:CubicBezierSegment
                    Point1="0,181.306971904266"
                    Point2="0,185.306971904266"
                    Point3="4,185.306971904266" />
                  <mssgle:LineSegment
                    End="26.5000000000001,185.306971904266" />
                  <mssgle:CubicBezierSegment
                    Point1="26.5000000000001,185.306971904266"
                    Point2="30.5000000000001,185.306971904266"
                    Point3="30.5000000000001,189.306971904266" />
                  <mssgle:LineSegment
                    End="30.5000000000001,363.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="-118.263723958333,190.306971904266,267.027447916667,16"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <ContainerLayout
          HeaderHeight="43"
          IsExpanded="True"
          PanelSize="604,826"
          Size="604,868"
          Id="Package\Procesar documentos"
          TopLeft="5.50000000000017,311.5" />
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Restricción]"
          TopLeft="314,49.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,57"
              Start="0,0"
              End="0,49.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,49.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Restricción 1]"
          TopLeft="312,148.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,61"
              Start="0,0"
              End="0,53.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,53.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Restricción 2]"
          TopLeft="309,251.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,60"
              Start="0,0"
              End="0,52.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,52.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Restricción 3]"
          TopLeft="304.5,1179.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,67"
              Start="0,0"
              End="0,59.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,59.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </Package>
  <TaskHost
    design-time-name="Package\Obtener documentos a procesar">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml">
        <NodeLayout
          Size="289,42"
          Id="Package\Obtener documentos a procesar\Listar Documentos contados o modificados"
          TopLeft="191,163" />
        <NodeLayout
          Size="236,42"
          Id="Package\Obtener documentos a procesar\rs_documentos"
          TopLeft="225,257" />
        <EdgeLayout
          Id="Package\Obtener documentos a procesar.Paths[Salida de origen de OLE DB]"
          TopLeft="339.25,205">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,52"
              Start="0,0"
              End="0,44.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,44.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <PipelineComponentMetadata
    design-time-name="Package\Obtener documentos a procesar\Listar Documentos contados o modificados">
    <Properties>
      <Property>
        <Name>DataSourceViewID</Name>
      </Property>
    </Properties>
  </PipelineComponentMetadata>
  <TaskHost
    design-time-name="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml">
        <NodeLayout
          Size="190,42"
          Id="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento"
          TopLeft="35.9,5.49999999999995" />
        <NodeLayout
          Size="251,42"
          Id="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Borrar coincidencias en Ubicaciones_SKU"
          TopLeft="5.50000000000003,107.1" />
        <EdgeLayout
          Id="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes.Paths[Salida de origen de OLE DB]"
          TopLeft="131.1,47.1">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,60"
              Start="0,0"
              End="0,52.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,52.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <PipelineComponentMetadata
    design-time-name="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0101 Eliminar ubicaciones de deposito existentes\Obtener SKU del documento">
    <Properties>
      <Property>
        <Name>DataSourceViewID</Name>
      </Property>
    </Properties>
  </PipelineComponentMetadata>
  <TaskHost
    design-time-name="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml">
        <NodeLayout
          Size="194,42"
          Id="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Insertar en Ubicaciones_SKU"
          TopLeft="34.6666666666667,73.6666666666667" />
        <NodeLayout
          Size="250,42"
          Id="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo"
          TopLeft="5.50000000000001,5.50000000000007" />
        <EdgeLayout
          Id="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo.Paths[Salida de origen de OLE DB]"
          TopLeft="130.883333333333,47.1000000000001">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,26.5666666666666"
              Start="0,0"
              End="0,19.0666666666666">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,19.0666666666666" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <PipelineComponentMetadata
    design-time-name="Package\Procesar documentos\01 Cargar Ubicaciones de Deposito segun el documento de conteo\0102 Cargar ubicaciones de deposito segun conteo\Obtener ubicaciones por SKU segun conteo">
    <Properties>
      <Property>
        <Name>DataSourceViewID</Name>
      </Property>
    </Properties>
  </PipelineComponentMetadata>
  <TaskHost
    design-time-name="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml">
        <NodeLayout
          Size="190,42"
          Id="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento"
          TopLeft="50.5,42" />
        <NodeLayout
          Size="295,42"
          Id="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Borrar coincidencias en InventarioInicialPiso"
          TopLeft="0,150.5" />
        <EdgeLayout
          Id="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*.Paths[Salida de origen de OLE DB]"
          TopLeft="146.5,84">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,66.5"
              Start="0,0"
              End="0,59">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,59" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <AnnotationLayout
          Text="NOTA: Este paso solo aplica para tipo_conteo = 3  (ADUANA)"
          ParentId="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*"
          FontInfo="{assembly:Null}"
          Size="351,40"
          Id="04332f01-f9dc-40e4-a3ae-61369cdc6dd7"
          TopLeft="12.9999999999999,1.99999999999999" />
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <PipelineComponentMetadata
    design-time-name="Package\Procesar documentos\02 Eliminar InventarioInicialPiso *tipo_conteo ADUANAS*\Obtener SKU del documento">
    <Properties>
      <Property>
        <Name>DataSourceViewID</Name>
      </Property>
    </Properties>
  </PipelineComponentMetadata>
  <TaskHost
    design-time-name="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo">
    <LayoutInfo>
      <GraphLayout
        Capacity="16" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="118,42"
          Id="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda"
          TopLeft="166.5,197.1" />
        <NodeLayout
          Size="229,42"
          Id="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU"
          TopLeft="202.9,5.50000000000007" />
        <NodeLayout
          Size="150,42"
          Id="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Columna derivada"
          TopLeft="242.5,107.1" />
        <NodeLayout
          Size="198,42"
          Id="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Actualizar InventarioInicialPiso"
          TopLeft="6.30000000000003,310.3" />
        <NodeLayout
          Size="189,42"
          Id="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Insertar InventarioInicialPiso"
          TopLeft="484.5,266.7" />
        <EdgeLayout
          Id="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo.Paths[Salida de columna derivada]"
          TopLeft="317.3,148.7">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-91.6,48.3999999999999"
              Start="0,0"
              End="-91.6,40.8999999999999">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,20.1999999999999" />
                  <mssgle:CubicBezierSegment
                    Point1="0,20.1999999999999"
                    Point2="0,24.1999999999999"
                    Point3="-4,24.1999999999999" />
                  <mssgle:LineSegment
                    End="-87.6,24.1999999999999" />
                  <mssgle:CubicBezierSegment
                    Point1="-87.6,24.1999999999999"
                    Point2="-91.6,24.1999999999999"
                    Point3="-91.6,28.1999999999999" />
                  <mssgle:LineSegment
                    End="-91.6,40.8999999999999" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo.Paths[Salida de origen de OLE DB]"
          TopLeft="317.3,47.1000000000001">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,60"
              Start="0,0"
              End="0,52.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,52.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo.Paths[Salida de entradas no coincidentes de búsqueda]"
          TopLeft="244.1,238.7">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="334.8,27.9999999999999"
              Start="0,0"
              End="334.8,20.4999999999999">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,7.42399999999995" />
                  <mssgle:CubicBezierSegment
                    Point1="0,7.42399999999995"
                    Point2="0,11.424"
                    Point3="4,11.424" />
                  <mssgle:LineSegment
                    End="330.8,11.424" />
                  <mssgle:CubicBezierSegment
                    Point1="330.8,11.424"
                    Point2="334.8,11.424"
                    Point3="334.8,15.424" />
                  <mssgle:LineSegment
                    End="334.8,20.4999999999999" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="60.5109765625,16.424,213.778046875,12.1953125"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo.Paths[Salida de entradas coincidentes de búsqueda]"
          TopLeft="207.3,238.7">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-102.2,71.5999999999999"
              Start="0,0"
              End="-102.2,64.0999999999999">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,25.2128" />
                  <mssgle:CubicBezierSegment
                    Point1="0,25.2128"
                    Point2="0,29.2128"
                    Point3="-4,29.2128" />
                  <mssgle:LineSegment
                    End="-98.2,29.2128" />
                  <mssgle:CubicBezierSegment
                    Point1="-98.2,29.2128"
                    Point2="-102.2,29.2128"
                    Point3="-102.2,33.2128" />
                  <mssgle:LineSegment
                    End="-102.2,64.0999999999999" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="-150.9190234375,34.2128,199.638046875,12.1953125"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <PipelineComponentMetadata
    design-time-name="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Obtener total contado en piso por SKU">
    <Properties>
      <Property>
        <Name>DataSourceViewID</Name>
      </Property>
    </Properties>
  </PipelineComponentMetadata>
  <PipelineComponentMetadata
    design-time-name="Package\Procesar documentos\03  Cargar Inventario Inicial de Piso segun el conteo\Búsqueda">
    <Properties>
      <Property>
        <Name>OverwriteParamsSQLProp</Name>
        <Value
          type="q2:string">false</Value>
      </Property>
      <Property>
        <Name>UsedTableName</Name>
        <Value
          type="q3:string">[ADUANA].[InventarioInicialPiso]</Value>
      </Property>
      <Property>
        <Name>TableInfoObjectType</Name>
        <Value
          type="q4:string">0</Value>
      </Property>
      <Property>
        <Name>DataSourceViewID</Name>
      </Property>
    </Properties>
  </PipelineComponentMetadata>
  <TaskHost
    design-time-name="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;">
    <LayoutInfo>
      <GraphLayout
        Capacity="16" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="118,42"
          Id="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda"
          TopLeft="294.1,255.128571428571" />
        <NodeLayout
          Size="189,42"
          Id="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Insertar InventarioInicialPiso"
          TopLeft="581.757142857143,355.3" />
        <NodeLayout
          Size="150,42"
          Id="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Columna derivada"
          TopLeft="278.5,153.528571428571" />
        <NodeLayout
          Size="298,42"
          Id="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU"
          TopLeft="204.1,51.9285714285714" />
        <NodeLayout
          Size="198,42"
          Id="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Actualizar InventarioInicialPiso"
          TopLeft="0.499999999999957,356.728571428571" />
        <EdgeLayout
          Id="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;.Paths[Salida de origen de OLE DB]"
          TopLeft="353.3,93.5285714285714">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,60"
              Start="0,0"
              End="0,52.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,52.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;.Paths[Salida de entradas no coincidentes de búsqueda]"
          TopLeft="371.433333333333,297.128571428571">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="304.82380952381,58.171428571429"
              Start="0,0"
              End="304.82380952381,50.671428571429">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,19.7354992833255" />
                  <mssgle:CubicBezierSegment
                    Point1="0,19.7354992833255"
                    Point2="0,23.7354992833255"
                    Point3="4,23.7354992833255" />
                  <mssgle:LineSegment
                    End="300.82380952381,23.7354992833255" />
                  <mssgle:CubicBezierSegment
                    Point1="300.82380952381,23.7354992833255"
                    Point2="304.82380952381,23.7354992833255"
                    Point3="304.82380952381,27.7354992833255" />
                  <mssgle:LineSegment
                    End="304.82380952381,50.671428571429" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="45.522881324405,28.7354992833255,213.778046875,12.1953125"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;.Paths[Salida de entradas coincidentes de búsqueda]"
          TopLeft="353.1,297.128571428571">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-253.6,59.6"
              Start="0,0"
              End="-253.6,52.1">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,25.8" />
                  <mssgle:CubicBezierSegment
                    Point1="0,25.8"
                    Point2="0,29.8"
                    Point3="-4,29.8" />
                  <mssgle:LineSegment
                    End="-249.6,29.8" />
                  <mssgle:CubicBezierSegment
                    Point1="-249.6,29.8"
                    Point2="-253.6,29.8"
                    Point3="-253.6,33.8" />
                  <mssgle:LineSegment
                    End="-253.6,52.1" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="-226.6190234375,34.8,199.638046875,12.1953125"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;.Paths[Salida de columna derivada]"
          TopLeft="353.3,195.128571428571">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,59.9999999999999"
              Start="0,0"
              End="0,52.4999999999999">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,52.4999999999999" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <AnnotationLayout
          Text="NOTA: Este paso solo aplica para tipo_conteo = 3  (ADUANA)"
          ParentId="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;"
          FontInfo="{assembly:Null}"
          Size="351,40"
          Id="0313eb6e-3443-41a2-818e-4603ef7b5ea7"
          TopLeft="180.128571428571,3.95714285714264" />
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <PipelineComponentMetadata
    design-time-name="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Busqueda">
    <Properties>
      <Property>
        <Name>OverwriteParamsSQLProp</Name>
        <Value
          type="q2:string">false</Value>
      </Property>
      <Property>
        <Name>UsedTableName</Name>
        <Value
          type="q3:string">[ADUANA].[InventarioInicialPiso]</Value>
      </Property>
      <Property>
        <Name>TableInfoObjectType</Name>
        <Value
          type="q4:string">0</Value>
      </Property>
      <Property>
        <Name>DataSourceViewID</Name>
      </Property>
    </Properties>
  </PipelineComponentMetadata>
  <PipelineComponentMetadata
    design-time-name="Package\Procesar documentos\04 Calcular Inv Inicial Piso usando Conteo Deposito &quot;tipo_conteo ADUANAS&quot;\Calcular total piso en segun conteo en deposito por SKU">
    <Properties>
      <Property>
        <Name>DataSourceViewID</Name>
      </Property>
    </Properties>
  </PipelineComponentMetadata>
  <PrecedenceConstraint
    design-time-name="Package\Procesar documentos.PrecedenceConstraints[SI_FechaConteo]">
    <ShowAnnotation>ConstraintDescription</ShowAnnotation>
  </PrecedenceConstraint>
  <PrecedenceConstraint
    design-time-name="Package\Procesar documentos.PrecedenceConstraints[NO_FechaConteo]">
    <ShowAnnotation>ConstraintDescription</ShowAnnotation>
  </PrecedenceConstraint>
</Objects>]]></DTS:DesignTimeProperties>
</DTS:Executable>